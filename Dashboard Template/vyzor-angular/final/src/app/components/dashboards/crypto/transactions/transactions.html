<app-breadcrumb title="Dashboards" sub_title="Crypto" active_item="Transactions"></app-breadcrumb>

<!-- Start::row-1 -->
<div class="row">
  @for(list of TransactionCard;track $index){
  <div class="col-xl-3 col-lg-6">
    <spk-list-card [list]="list" [titleClass]="'mb-2 fs-12'" [listCard]="true">
    </spk-list-card>
  </div>
  }
</div>
<!--End::row-1 -->

<!-- Start:: row-2 -->
<div class="row">
  <div class="col-xl-12">
    <div class="card custom-card">
      <div class="card-header justify-content-between">
        <div class="card-title">
          Transaction History
        </div>
        <div class="d-flex flex-wrap gap-2">
          <div>
            <input class="form-control" type="search" placeholder="Search Here" aria-label=".form-control-sm example">
          </div>
          <spk-dropdowns [Customclass]="'dropdown'" [Icon]="true" [title]="'Sort By'"
            [IconClass]="'ri-arrow-down-s-line align-middle ms-1 d-inline-block'"
            [class]="'btn btn-primary btn-wave waves-effect waves-light no-caret'" [Menuclass]="'dropdown-menu'">
            <li><a class="dropdown-item" href="javascript:void(0);">This Week</a></li>
            <li><a class="dropdown-item" href="javascript:void(0);">This Month</a></li>
            <li><a class="dropdown-item" href="javascript:void(0);">This Year</a></li>
          </spk-dropdowns>
          <div>
            <button class="btn btn-secondary btn-wave">View All</button>
          </div>
        </div>
      </div>
      <div class="card-body p-0">
        <div class="table-responsive custom-sale-table">
          <spk-reusable-tables [columns]="TransactionColumn" tableClass="  text-nowrap" [showCheckbox]="false">
            @for(txn of TransactionsTable;track $index){
            <tr >
              <td>
                <span class="avatar avatar-sm avatar-rounded"
                  [ngClass]="txn.direction === 'up' ? 'bg-success-transparent' : 'bg-danger-transparent'">
                  <i class="ti  fw-medium fs-16" [ngClass]="[
                                'ti-arrow-narrow-' + txn.direction,
                                txn.direction === 'up' ? 'text-success' : 'text-danger'
                              ]"></i>
                </span>
              </td>
              <td>
                <div class="d-flex align-items-center gap-2">
                  <span class="avatar avatar-xs avatar-rounded">
                    <img [src]="txn.user.avatar" alt={{txn.user.name}}>
                  </span>
                  <div class="fw-medium">{{txn.user.name}}</div>
                </div>
              </td>
              <td>
                <span>{{txn.id}}</span>
              </td>
              <td>
                <div class="d-flex align-items-center gap-2">
                  <span class="avatar avatar-xs avatar-rounded">
                    <img [src]="txn.crypto.icon" alt={{txn.crypto.name}}>
                  </span>
                  <div class="fw-medium">{{txn.crypto.name}}</div>
                </div>
              </td>
              <td><span>{{txn.date}}</span></td>
              <td><span>{{txn.amount}}</span></td>
              <td><span>{{txn.recipient}}</span></td>
              <td>
                <span class="badge bg-{{txn.statusColor}}-transparent">{{txn.status}}</span>
              </td>
              <td>
                <button class="btn btn-primary-light btn-icon btn-sm" data-bs-toggle="tooltip" data-bs-placement="top"
                  ngbTooltip="download"><i class="ri-download-2-line"></i></button>
                <button (click)="click(txn.id)" class="btn btn-danger-light btn-icon ms-1 btn-sm task-delete-btn" data-bs-toggle="tooltip"
                  data-bs-placement="top" ngbTooltip="Delete"><i class="ri-delete-bin-5-line"></i></button>
              </td>
            </tr>
            }
          </spk-reusable-tables>
        </div>
      </div>
      <div class="card-footer " [ngClass]="{'border-top-0': TransactionsTable.length === 0}" >
        <nav aria-label="Page navigation" class="pagination-style-2">
          <ul class="pagination mb-0 flex-wrap justify-content-end">
            <li class="page-item disabled">
              <a class="page-link" href="javascript:void(0);">
                Prev
              </a>
            </li>
            <li class="page-item"><a class="page-link" href="javascript:void(0);">1</a></li>
            <li class="page-item active"><a class="page-link" href="javascript:void(0);">2</a></li>
            <li class="page-item">
              <a class="page-link" href="javascript:void(0);">
                <i class="bi bi-three-dots"></i>
              </a>
            </li>
            <li class="page-item"><a class="page-link" href="javascript:void(0);">17</a></li>
            <li class="page-item">
              <a class="page-link text-primary" href="javascript:void(0);">
                next
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </div>
</div>
<!-- End:: row-2 -->
