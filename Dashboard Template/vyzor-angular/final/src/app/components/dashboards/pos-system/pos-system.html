<app-breadcrumb title="Dashboards" [subtitle]='false' active_item="POS System"></app-breadcrumb>
<!-- Start:: row-1 -->
<div class="row">
  <div class="col-xxl-9">
    <div class="row">
      <div class="col-xl-12">
        <h5 class="fw-semibold mb-3 d-flex align-items-center">Orders<span
            class="badge bg-primary ms-2 rounded-pill">08</span></h5>
        <div class="swiper swiper-navigation pos-orders-swiper">
          <div class="swiper-wrapper">
            <swiper-container #swiperContainer
              class="swiper swiper-navigation pos-orders-swiper mySwiper swiper-initialized swiper-horizontal swiper-backface-hidden"
              space-between="30" slides-per-view="4" autoplay-delay="2000" navigation="true">
              @for (order of orders; track $index) {
              <swiper-slide>
                <div class="card custom-card" [ngClass]="order.statusClass + '-transparent'">
                  <div class="card-body">
                    <a href="javascript:void(0);" class="stretched-link"></a>
                    <div class="d-flex align-items-start justify-content-between mb-1">
                      <div>
                        <span class="fs-13">Order - {{ order.orderNumber }}</span>
                        <span class="d-block fw-semibold">{{ order.customerName }}</span>
                      </div>
                      <div class="fs-13 text-muted">{{ order.itemsCount }} </div>
                    </div>
                    <div class="d-flex align-items-end justify-content-between flex-wrap">
                      <span class="fs-13 text-muted">{{ order.timeAgo }}</span>
                      <span class="badge" [ngClass]="order.statusClass">{{ order.status }}</span>
                    </div>
                  </div>
                </div>
              </swiper-slide>
              }
            </swiper-container>
          </div>
        </div>
      </div>
      <div class="col-xl-12">
        <div class="d-flex align-items-center justify-content-between flex-wrap gap-2 mb-3">
          <h5 class="fw-semibold mb-0 d-flex align-items-center">Categories<span
              class="badge bg-success ms-2 rounded-pill">07</span></h5>
          <a href="javascript:void(0);" class="text-muted fs-13">View All<i
              class="ti ti-arrow-narrow-right ms-1"></i></a>
        </div>
        <div class="d-flex align-items-center gap-2 mb-4 flex-wrap pos-category pos-categories-list" id="filter">
          <!-- Tabs -->
          @for( category of categories;track $index){
          <div class="nft-tag {{ category.activecolor }}"
            [ngClass]="category.class.split('.')[1] ? category.class : 'nft-tag-primary active'"
            [ngClass]="{'active': selectedCategory === category.class}">
            <a href="javascript:void(0);" class="stretched-link categories" (click)="filterCategory(category.class)">
              <span class="nft-tag-icon">
                <img [src]="category.image" alt="">
              </span>
              <span class="nft-tag-text podcast-category-text">{{ category.name }}</span>
            </a>
          </div>
          }
        </div>
      </div>
      <div class="col-xl-12">
        <div class="row list-wrapper">
          @for (card of cards; track $index) {
          @if (selectedCategory === '*' || selectedCategory === '.' + card.category) {
          <div class="col-xxl-3 col-xl-4 col-lg-4 col-md-6 col-sm-6 col-12 card-item" [ngClass]="card.category">
            <div class="card custom-card">
              <img [src]="card.image" class="card-img-top bg-light" alt="...">
              <div class="card-body">
                <div class="mb-1">
                  <a href="javascript:void(0);" class="fw-medium fs-16">{{ card.name }}</a>
                </div>
                <div class="d-flex align-items-center justify-content-between flex-wrap gap-2">
                  <div class="d-flex align-items-center gap-2">
                    <h5 class="fw-semibold mb-0">${{ card.price }}</h5>
                    <span class="text-muted fs-13 text-decoration-line-through">${{ card.oldPrice }}</span>
                  </div>
                  <div>
                    <button
                      class="btn btn-primary btn-sm btn-wave d-inline-flex align-items-center justify-content-center"
                      data-bs-toggle="tooltip" data-bs-placement="top" ngbTooltip="Add Item">Add Item<i
                        class="ti ti-plus ms-1"></i></button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          }
          }
        </div>
      </div>
    </div>
  </div>
  <div class="col-xxl-3">
    <div class="card custom-card">
      <div class="card-header justify-content-between">
        <div class="card-title">Orders Details</div>
        <span class="badge bg-primary-transparent">4 Items</span>
      </div>
      <div class="card-body">
        <div class="mb-4">
          <span class="fw-semibold d-block mb-0">Recepient: Jhon Doe</span>
          <span class="d-block fs-13 text-muted mb-1">Mon - 24,Feb 2025 - 12:45PM</span>
          <span class="d-block fs-12 text-muted">#SPK1236655</span>
        </div>
        <ul class="list-unstyled pos-system-orders-list">
          @for (product of products; track $index;let i = $index) {
          <li>
            <div class="d-flex align-items-start gap-2 flex-wrap">
              <div class="lh-1">
                <span class="avatar avatar-lg bg-light border">
                  <img [src]="'./assets/images/pos-system/' + product.image" alt="img">
                </span>
              </div>
              <div class="flex-grow-1">
                <div class="d-flex align-items-end mb-1 flex-wrap">
                  <span class="fw-semibold text-truncate flex-fill">{{ product.name }}</span>
                  <div class="d-flex align-items-center order-qnt gap-2">
                    <a href="javascript:void(0);"
                      class="badge bg-white p-1 border text-muted fs-13 product-quantity-minus"
                      (click)="decreaseQuantity(product)">
                      <i class="ri-subtract-line"></i>
                    </a>
                    <input type="text" class="form-control form-control-cart border-0 text-center w-100"
                      aria-label="quantity" [value]="product.quantity" readonly>
                    <a href="javascript:void(0);"
                      class="badge bg-white p-1 border text-muted fs-13 product-quantity-plus"
                      (click)="increaseQuantity(product)">
                      <i class="ri-add-line"></i>
                    </a>
                  </div>
                </div>
                <div class="d-flex align-items-center justify-content-between flex-wrap gap-2">
                  <div class="flex-grow-1 mb-0 text-primary">${{ product.price | number: '1.2-2' }}</div>
                  <div class="lh-1">
                    <a href="javascript:void(0);" class="text-danger fs-12 text-decoration-underline"
                      (click)="removeProduct(i)">Remove</a>
                  </div>
                </div>
              </div>
            </div>
          </li>
          }
        </ul>
      </div>
      <div class="card-footer p-0">
        <div class="p-3 border-bottom border-bottom-dashed">
          <div class="d-flex align-items-center justify-content-between flex-wrap gap-2 fw-semibold mb-2">
            <span>Sub total</span>
            <span>$37.96</span>
          </div>
          <div class="d-flex align-items-center justify-content-between flex-wrap gap-2 mb-2  text-muted">
            <span>Packaging Charges:</span>
            <span>+$5.00</span>
          </div>
          <div class="d-flex align-items-center justify-content-between flex-wrap gap-2  text-muted">
            <span>GST:</span>
            <span>$2.99</span>
          </div>
        </div>
        <div
          class="d-flex align-items-center justify-content-between flex-wrap gap-2 text-primary px-3 py-2 fw-semibold fs-18 border-bottom border-bottom-dashed">
          <span>Total:</span>
          <span>$45.00</span>
        </div>
        <div class="p-3">
          <h6 class="fw-semibold mb-3">Payment Methods:</h6>
          <div class="btn-group flex-wrap" role="group" aria-label="Basic radio toggle button group">
            <input type="radio" class="btn-check" name="btnradio" id="btnradio1" checked>
            <label class="btn btn-outline-primary btn-w-sm" for="btnradio1">
              <span class="d-block"><i class="ti ti-cash fs-5"></i></span>
              <span class="d-block">Cash</span>
            </label>

            <input type="radio" class="btn-check" name="btnradio" id="btnradio2">
            <label class="btn btn-outline-primary btn-w-sm" for="btnradio2">
              <span class="d-block"><i class="ti ti-qrcode fs-5"></i></span>
              <span class="d-block">UPI</span>
            </label>

            <input type="radio" class="btn-check" name="btnradio" id="btnradio3">
            <label class="btn btn-outline-primary" for="btnradio3">
              <span class="d-block"><i class="ti ti-credit-card fs-5"></i></span>
              <span class="d-block">Debit Card</span>
            </label>
          </div>
        </div>
      </div>
      <div class="card-footer d-grid">
        <button class="btn btn-primary btn-lg">Pay - $45.00</button>
      </div>
    </div>
  </div>
</div>
<!-- End:: row-1 -->
