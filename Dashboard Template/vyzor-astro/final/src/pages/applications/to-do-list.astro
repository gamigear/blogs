---
import { Image } from "astro:assets";
import Layout from "../../layouts/Layout.astro";
import Pageheader from "../../components/Pageheader.astro";
import "../../scripts/libs/dragula/dragula.min.css";
import {
    Categories,
    TodoCategories,
    Todotables,
} from "../../shared/data/applications/todolistdata";
import media66 from "../../assets/images/media/media-66.png";
---

<Layout Seo="Apps-To Do List">
    <Pageheader
        title="Applications"
        currentpage="To Do List"
        activepage="To Do List"
    />
    <!-- Start::row-1 -->
    <div class="row">
        <div class="col-xl-3">
            <div class="card custom-card">
                <div class="card-body p-0">
                    <div
                        class="p-3 task-navigation border-bottom border-block-end-dashed"
                    >
                        <div class="d-grid">
                            <button
                                class="btn btn-primary rounded-pill d-flex align-items-center justify-content-center"
                                data-bs-toggle="modal"
                                data-bs-target="#addtask"
                            >
                                <i
                                    class="ri-add-circle-line fs-16 align-middle me-1"
                                ></i>Create New Task
                            </button>
                        </div>
                        <ul class="list-unstyled task-main-nav mb-0 mt-3">
                            <li class="px-0 pt-0">
                                <span class="fs-11 text-muted op-7 fw-medium"
                                    >Tasks</span
                                >
                            </li>
                            {
                                TodoCategories.map((category) => (
                                    <li class={category.active ? "active" : ""}>
                                        <a href="javascript:void(0);">
                                            <div class="d-flex align-items-center">
                                                <span
                                                    class="me-2 lh-1 todo-menu-icon"
                                                    set:html={category.icon}
                                                />
                                                <span class="flex-fill text-nowrap">
                                                    {category.name}
                                                </span>
                                                {category.badgeCount && (
                                                    <span class="badge bg-success rounded-pill">
                                                        {category.badgeCount}
                                                    </span>
                                                )}
                                            </div>
                                        </a>
                                    </li>
                                ))
                            }
                            <li class="px-0 pt-2">
                                <span class="fs-11 text-muted op-7 fw-medium"
                                    >Categories</span
                                >
                            </li>
                            {
                                Categories.map((category) => (
                                    <li>
                                        <a href="javascript:void(0);">
                                            <div class="d-flex align-items-center flex-wrap">
                                                <span class="me-2 lh-1">
                                                    <i
                                                        class={`${category.iconClass} ${category.textColor}`}
                                                    />
                                                </span>
                                                <span class="flex-fill text-nowrap">
                                                    {category.name}
                                                </span>
                                            </div>
                                        </a>
                                    </li>
                                ))
                            }
                        </ul>
                    </div>
                    <div class="p-3 text-center">
                        <Image src={media66} alt="" />
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-9">
            <div class="card custom-card">
                <div class="card-header justify-content-between">
                    <div>
                        <input
                            class="form-control"
                            type="text"
                            placeholder="Search Here"
                            aria-label=".form-control-sm example"
                        />
                    </div>
                    <div class="d-flex flex-wrap gap-2">
                        <div class="dropdown">
                            <a
                                href="javascript:void(0);"
                                class="btn btn-primary btn-wave waves-effect waves-light"
                                data-bs-toggle="dropdown"
                                aria-expanded="false"
                            >
                                Sort By<i
                                    class="ri-arrow-down-s-line align-middle ms-1 d-inline-block"
                                ></i>
                            </a>
                            <ul class="dropdown-menu" role="menu">
                                <li>
                                    <a
                                        class="dropdown-item"
                                        href="javascript:void(0);">New</a
                                    >
                                </li>
                                <li>
                                    <a
                                        class="dropdown-item"
                                        href="javascript:void(0);">Popular</a
                                    >
                                </li>
                                <li>
                                    <a
                                        class="dropdown-item"
                                        href="javascript:void(0);">Relevant</a
                                    >
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="card-body p-0 position-relative" id="todo-content">
                    <div>
                        <div class="table-responsive">
                            <table class="table text-nowrap">
                                <thead>
                                    <tr>
                                        <th>
                                            <input
                                                class="form-check-input check-all"
                                                type="checkbox"
                                                id="all-tasks"
                                                value=""
                                                aria-label="..."
                                            />
                                        </th>
                                        <th class="todolist-handle-drag"> </th>
                                        <th scope="col">Task Title</th>
                                        <th scope="col">Assigned To</th>
                                        <th scope="col">Priority</th>
                                        <th scope="col">Due Date</th>
                                        <th scope="col">Status</th>
                                        <th scope="col">Created On</th>
                                        <th
                                            scope="col"
                                            class="todolist-progress"
                                            >Progress</th
                                        >
                                        <th scope="col" class="text-end"
                                            >Action</th
                                        >
                                    </tr>
                                </thead>
                                <tbody id="todo-drag">
                                    {
                                        Todotables.map((task) => (
                                            <tr class="todo-box">
                                                <td class="task-checkbox">
                                                    <input
                                                        class="form-check-input"
                                                        type="checkbox"
                                                        value=""
                                                        aria-label="..."
                                                    />
                                                </td>
                                                <td>
                                                    <button class="btn btn-icon btn-sm btn-wave btn-light todo-handle">
                                                        : :
                                                    </button>
                                                </td>
                                                <td>
                                                    <a
                                                        href="javascript:void(0);"
                                                        class="fw-medium"
                                                    >
                                                        {task.title}
                                                    </a>
                                                </td>
                                                <td>
                                                    <div class="d-flex align-items-center gap-2">
                                                        <div class="lh-1">
                                                            <span class="avatar avatar-xs avatar-rounded">
                                                                <Image
                                                                    width={20}
                                                                    height={20}
                                                                    src={
                                                                        task
                                                                            .assignee
                                                                            .avatar
                                                                    }
                                                                    alt={
                                                                        task
                                                                            .assignee
                                                                            .name
                                                                    }
                                                                />
                                                            </span>
                                                        </div>
                                                        <div class="fw-medium">
                                                            {task.assignee.name}
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <span
                                                        class={`fw-medium text-${task.priorityColor}`}
                                                    >
                                                        <i class="ri-circle-line fw-semibold fs-7 me-2 lh-1 align-middle" />
                                                        {task.priority}
                                                    </span>
                                                </td>
                                                <td> {task.dueDate} </td>
                                                <td>
                                                    <span
                                                        class={`badge bg-${task.statusColor}-transparent`}
                                                    >
                                                        {task.status}
                                                    </span>
                                                </td>
                                                <td> {task.createdDate} </td>
                                                <td>
                                                    <div class="d-flex align-items-center">
                                                        <div
                                                            class="progress progress-animate progress-xs w-100"
                                                            role="progressbar"
                                                            aria-valuenow={
                                                                task.progress
                                                            }
                                                            aria-valuemin="0"
                                                            aria-valuemax="100"
                                                        >
                                                            <div
                                                                class="progress-bar progress-bar-striped progress-bar-animated bg-primary"
                                                                style={`width: ${task.progress}%`}
                                                            />
                                                        </div>
                                                        <div class="ms-2">
                                                            {task.progress}%
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="text-end">
                                                    <div class="dropdown">
                                                        <a
                                                            aria-label="anchor"
                                                            class="btn btn-light btn-icon btn-sm btn-wave"
                                                            href="javascript:void(0);"
                                                            data-bs-toggle="dropdown"
                                                        >
                                                            <i class="ri-more-2-fill text-muted" />
                                                        </a>
                                                        <ul
                                                            class="dropdown-menu"
                                                            role="menu"
                                                        >
                                                            <li>
                                                                <a
                                                                    class="dropdown-item"
                                                                    href="javascript:void(0);"
                                                                >
                                                                    <i class="ri-edit-line me-2" />
                                                                    Edit
                                                                </a>
                                                            </li>
                                                            <li>
                                                                <a
                                                                    class="dropdown-item"
                                                                    href="javascript:void(0);"
                                                                >
                                                                    <i class="ri-delete-bin-5-line me-2" />
                                                                    Delete
                                                                </a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </td>
                                            </tr>
                                        ))
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="card-footer border-top-0">
                    <div
                        class="d-flex align-items-center justify-content-between flex-wrap gap-2"
                    >
                        <div>
                            Showing 10 Entries <i
                                class="bi bi-arrow-right ms-2 fw-semibold"></i>
                        </div>
                        <div>
                            <nav
                                aria-label="Page navigation"
                                class="pagination-style-4"
                            >
                                <ul class="pagination mb-0">
                                    <li class="page-item disabled">
                                        <a
                                            class="page-link"
                                            href="javascript:void(0);"
                                        >
                                            Prev
                                        </a>
                                    </li>
                                    <li class="page-item active">
                                        <a
                                            class="page-link"
                                            href="javascript:void(0);">1</a
                                        >
                                    </li>
                                    <li class="page-item">
                                        <a
                                            class="page-link"
                                            href="javascript:void(0);">2</a
                                        >
                                    </li>
                                    <li class="page-item">
                                        <a
                                            class="page-link text-primary"
                                            href="javascript:void(0);"
                                        >
                                            next
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--End::row-1 -->
    <script>
        import "../../scripts/libs/dragula/dragula.min.js";
        import "../../scripts/js/custom.js";
        import "../../scripts/js/todolist.js";
    </script>
</Layout>

<!-- Start:: Add new task modal -->
<div class="modal fade" id="addtask" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title" id="mail-ComposeLabel">Create Task</h6>
                <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body px-4">
                <div class="row gy-2">
                    <div class="col-xl-12">
                        <label for="task-name" class="form-label"
                            >Task Name</label
                        >
                        <input
                            type="text"
                            class="form-control"
                            id="task-name"
                            placeholder="Task Name"
                        />
                    </div>
                    <div class="col-xl-12">
                        <label class="form-label">Assigned To</label>
                        <select
                            class="form-control"
                            name="choices-multiple-remove-button"
                            id="choices-multiple-remove-button"
                            multiple
                        >
                            <option value="Choice 1" selected
                                >Angelina May</option
                            >
                            <option value="Choice 2">Kiara advain</option>
                            <option value="Choice 3">Hercules Jhon</option>
                            <option value="Choice 4">Mayor Kim</option>
                        </select>
                    </div>
                    <div class="col-xl-6">
                        <label class="form-label">Assigned Date</label>
                        <div class="form-group">
                            <div class="input-group">
                                <div class="input-group-text text-muted">
                                    <i class="ri-calendar-line"></i>
                                </div>
                                <input
                                    type="text"
                                    class="form-control"
                                    id="addignedDate"
                                    placeholder="Choose date and time"
                                />
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6">
                        <label class="form-label">Target Date</label>
                        <div class="form-group">
                            <div class="input-group">
                                <div class="input-group-text text-muted">
                                    <i class="ri-calendar-line"></i>
                                </div>
                                <input
                                    type="text"
                                    class="form-control"
                                    id="targetDate"
                                    placeholder="Choose date and time"
                                />
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6">
                        <label class="form-label">Status</label>
                        <select
                            class="form-control"
                            data-trigger
                            name="choices-single-default1"
                            id="choices-single-default1"
                        >
                            <option value="">Select</option>
                            <option value="one">In Progress</option>
                            <option value="two">Not Started</option>
                            <option value="three">Completed</option>
                            <option value="four">Pending</option>
                        </select>
                    </div>
                    <div class="col-xl-6">
                        <label class="form-label">Priority</label>
                        <select
                            class="form-control"
                            data-trigger
                            name="choices-single-default"
                            id="choices-single-default"
                        >
                            <option value="">Select</option>
                            <option value="Critical">Critical</option>
                            <option value="High">High</option>
                            <option value="Medium">Medium</option>
                            <option value="Low">Low</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button
                    type="button"
                    class="btn btn-light"
                    data-bs-dismiss="modal">Cancel</button
                >
                <button type="button" class="btn btn-primary">Create</button>
            </div>
        </div>
    </div>
</div>
<!-- End:: Add new task modal -->
