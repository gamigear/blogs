---
import { Image } from "astro:assets";
import Layout from "../layouts/Layout.astro";
import Pageheader from "../components/Pageheader.astro";
import "../scripts/libs/jsvectormap/jsvectormap.min.css";
import {
    ActivityItems,
    CategoryData,
    CategoryItemsData,
    Countries,
    Employeesdata,
    Ordersdata,
    Productsdata,
    Salesdata,
    StatusData,
    Transactionsdata,
} from "../shared/data/widgets/widgetsdata";
import SpkEmployeecard from "../shared/@spk-reusable-components/reusable-widgets/spk-employeecard.astro";
import SpkSalescard from "../shared/@spk-reusable-components/reusable-widgets/spk-salescard.astro";
import SpkProductscard from "../shared/@spk-reusable-components/reusable-widgets/spk-productscard.astro";
---

<Layout Seo="Widgets">
    <Pageheader title="Widgets" currentpage="Widgets" activepage="Widgets" />
    <!-- Start:: row-1 -->
    <div class="row row-cols-xxl-5">
        {
            Employeesdata.map((idx) => (
                <div class="col">
                    <SpkEmployeecard widget={idx} />
                </div>
            ))
        }
    </div>
    <!-- End:: row-1 -->

    <!-- Start:: row-2 -->
    <div class="row">
        {
            Salesdata.map((sales) => (
                <div class="col-md-6 col-lg-6 col-xl-3">
                    <SpkSalescard sales={sales} />
                </div>
            ))
        }
    </div>
    <!-- End:: row-2 -->

    <!-- Start:: row-3 -->
    <div class="row">
        <div class="col-xl-12">
            <div class="card custom-card">
                <div class="card-body">
                    <div class="row gy-4">
                        {
                            Productsdata.map((products) => (
                                <div class="col-xxl-2 col-xl-3 col-lg-4 col-md-6">
                                    <SpkProductscard products={products} />
                                </div>
                            ))
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End:: row-3 -->

    <!-- Start:: row-4 -->
    <div class="row">
        <div class="col-xxl-3 col-xl-6">
            <div class="card custom-card overflow-hidden">
                <div class="card-header justify-content-between">
                    <div class="card-title">Top Categories</div>
                    <a href="javascript:void(0);" class="fs-12 text-muted">
                        View All<i class="ti ti-arrow-narrow-right ms-1"></i>
                    </a>
                </div>
                <div class="card-body">
                    <div id="top-categories"></div>
                </div>
                <div class="card-footer p-0">
                    <ul class="list-group list-group-flush">
                        {
                            CategoryData.map((category, index) => (
                                <li class="list-group-item">
                                    <div class="d-flex align-items-start justify-content-between">
                                        <div
                                            class={`top-category-type ${index === 0 ? "one" : index === 1 ? "two" : "three"}`}
                                        >
                                            <div class="fw-medium">
                                                {category.title}
                                            </div>
                                            <span class="fs-13 text-muted">
                                                {category.percentageChange}
                                                <span
                                                    class={`text-${category.percentageColor} ms-1 fw-medium d-inline-block`}
                                                >
                                                    {category.percentage}
                                                </span>
                                            </span>
                                        </div>
                                        <div class="text-end">
                                            <span class="d-block fs-13 text-muted">
                                                Sales
                                            </span>
                                            <span class="d-block fw-semibold mb-0">
                                                {category.sales}
                                            </span>
                                        </div>
                                    </div>
                                </li>
                            ))
                        }
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-xxl-3 col-xl-6">
            <div class="card custom-card">
                <div class="card-header">
                    <div class="card-title">Top Country Sales</div>
                </div>
                <div class="card-body">
                    <div id="sales-locations"></div>
                    <div class="mt-4">
                        <ul class="list-unstyled sales-locations-list">
                            {
                                Countries.map((country) => (
                                    <li>
                                        <div class="d-flex align-items-center gap-2 mb-2">
                                            <div class="lh-1">
                                                <span class="avatar avatar-xs avatar-rounded">
                                                    <Image
                                                        src={country.flag}
                                                        alt={country.name}
                                                    />
                                                </span>
                                            </div>
                                            <div class="flex-fill">
                                                {country.name}
                                            </div>
                                            <div>
                                                {country.population.toLocaleString()}
                                            </div>
                                        </div>
                                        <div
                                            class="progress progress-animate progress-xs"
                                            role="progressbar"
                                            aria-valuenow={country.now}
                                            aria-valuemin="0"
                                            aria-valuemax="100"
                                        >
                                            <div
                                                class="progress-bar progress-bar-striped progress-bar-animated"
                                                style={`width:${country.now}%`}
                                            />
                                        </div>
                                    </li>
                                ))
                            }
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xxl-6">
            <div class="card custom-card">
                <div class="card-header">
                    <div class="card-title">Sales Revenue</div>
                </div>
                <div class="card-body">
                    <div id="salesOverview"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- End:: row-4 -->

    <!-- Start:: row-5 -->
    <div class="row">
        <div class="col-xxl-4 col-xl-6">
            <div class="card custom-card">
                <div class="card-header justify-content-between custom-widgets">
                    <div class="card-title">Top Categories</div>
                    <div class="dropdown">
                        <a
                            href="javascript:void(0);"
                            class="btn btn-primary-light btn-sm"
                            data-bs-toggle="dropdown"
                            aria-expanded="false"
                        >
                            This Week<i
                                class="ri-arrow-down-s-line align-middle ms-1 d-inline-block"
                            ></i>
                        </a>
                        <ul class="dropdown-menu" role="menu">
                            <li>
                                <a
                                    class="dropdown-item"
                                    href="javascript:void(0);">Today</a
                                >
                            </li>
                            <li>
                                <a
                                    class="dropdown-item active"
                                    href="javascript:void(0);">This Week</a
                                >
                            </li>
                            <li>
                                <a
                                    class="dropdown-item"
                                    href="javascript:void(0);">Last Week</a
                                >
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="card-body">
                    <div class="row align-items-center justify-content-center">
                        <div class="col">
                            <div id="top-categories1" class="py-3 text-center">
                            </div>
                        </div>
                        <div class="col">
                            <ul class="list-unstyled top-categories-list1 gy-1">
                                {
                                    CategoryItemsData.map((category) => (
                                        <li>
                                            <div class="d-flex align-items-center gap-2 justify-content-between">
                                                <div class="d-flex align-items-center gap-2">
                                                    <i
                                                        class={`ri-circle-fill fs-10 ${category.colorClass}`}
                                                    />
                                                    {category.name}
                                                </div>
                                                <div
                                                    class={`fw-semibold ${category.colorClass}`}
                                                >
                                                    {category.percentage}
                                                </div>
                                            </div>
                                        </li>
                                    ))
                                }
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="row">
                        <div class="col border-end border-inline-end-dashed">
                            <div class="text-center">
                                <span class="text-muted">Last Month</span>
                                <h4 class="fw-semibold mb-0">13,965</h4>
                            </div>
                        </div>
                        <div class="col">
                            <div class="text-center">
                                <span class="d-block text-muted mb-1"
                                    >This Month</span
                                >
                                <h4 class="fw-semibold mb-0">15,367</h4>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xxl-5 col-xl-6">
            <div class="card custom-card overflow-hidden">
                <div class="card-header justify-content-between">
                    <div class="card-title">Recent Orders</div>
                    <a
                        href="javascript:void(0);"
                        class="link-primary fw-semibold"
                        >View All Orders<i
                            class="ri-arrow-right-s-line ms-1 align-middle"
                        ></i></a
                    >
                </div>
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table text-nowrap">
                            <thead>
                                <tr>
                                    <th scope="col">Order ID</th>
                                    <th scope="col">Payment Mode</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Amount Paid</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                {
                                    Ordersdata.map((txn) => (
                                        <tr>
                                            <td class={txn.borderClass}>
                                                <span class="fw-semibold">
                                                    {txn.id}
                                                </span>
                                            </td>
                                            <td class={txn.borderClass}>
                                                <div>
                                                    <span class="d-block fw-semibold">
                                                        {txn.method}
                                                    </span>
                                                    <span class="d-block fs-12 text-muted">
                                                        {txn.methodDetails}
                                                    </span>
                                                </div>
                                            </td>
                                            <td class={txn.borderClass}>
                                                <span
                                                    class={`badge bg-${txn.statusColor}`}
                                                >
                                                    {txn.status}
                                                </span>
                                            </td>
                                            <td class={txn.borderClass}>
                                                <div>
                                                    <span class="d-block fw-semibold">
                                                        {txn.amount}
                                                    </span>
                                                    <span class="d-block fs-12 text-muted">
                                                        {txn.date}
                                                    </span>
                                                </div>
                                            </td>
                                            <td class={txn.borderClass}>
                                                <button class="btn btn-sm btn-outline-light btn-wave waves-effect waves-light">
                                                    <i class="fe fe-eye text-muted align-middle me-1" />
                                                    View
                                                </button>
                                            </td>
                                        </tr>
                                    ))
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xxl-3">
            <div class="card custom-card">
                <div class="card-header">
                    <div class="card-title">Social Visitors</div>
                </div>
                <div class="card-body py-0">
                    <div id="social-visitors"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- End:: row-5 -->

    <!-- Start:: row-6 -->
    <div class="row">
        <div class="col-xxl-3 col-xl-6">
            <div class="card custom-card">
                <div class="card-header">
                    <div class="card-title">Social Traffic</div>
                </div>
                <div class="card-body pb-0 px-0">
                    <div id="social-traffic1"></div>
                </div>
            </div>
        </div>
        <div class="col-xxl-3 col-xl-6">
            <div class="card custom-card">
                <div class="card-header">
                    <div class="card-title">Recent Orders</div>
                </div>
                <div class="card-body">
                    <div id="recent-orders"></div>
                </div>
                <div class="card-footer">
                    <div class="row gy-4">
                        {
                            StatusData.map((item) => (
                                <div class="col-xl-6">
                                    <div class="d-flex align-items-start gap-3">
                                        <div>
                                            <span
                                                class={`avatar avatar-rounded ${item.colorClass}`}
                                                set:html={item.svg}
                                            />
                                        </div>
                                        <div>
                                            <span class="d-block text-muted fs-13">
                                                {item.label}
                                            </span>
                                            <span class="d-block fw-semibold fs-16">
                                                {item.count}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            ))
                        }
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xxl-3 col-xl-6">
            <div class="card custom-card">
                <div class="card-header justify-content-between">
                    <div class="card-title">Recent Transactions</div>
                    <a
                        href="javascript:void(0);"
                        class="fs-12 text-muted fw-medium"
                    >
                        View All<i class="ti ti-arrow-narrow-right ms-1"></i>
                    </a>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled widgets-transactions-list">
                        {
                            Transactionsdata.map((item) => (
                                <li>
                                    <div class="d-flex align-items-center gap-2">
                                        <div class="lh-1">
                                            <span
                                                class={`avatar avatar-md avatar-rounded ${item.bgClass}`}
                                                set:html={item.svg}
                                            />
                                        </div>
                                        <div class="flex-fill">
                                            <span class="d-block fw-semibold">
                                                {item.name}
                                            </span>
                                            <span class="d-block text-muted fs-12">
                                                {item.time}
                                            </span>
                                        </div>
                                        <div class="text-end">
                                            <span
                                                class={`badge ${item.badgeClass}`}
                                            >
                                                {item.status}
                                            </span>
                                            <span class="d-block mt-1">
                                                {item.amount}
                                            </span>
                                        </div>
                                    </div>
                                </li>
                            ))
                        }
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-xxl-3 col-xl-6">
            <div class="card custom-card">
                <div class="card-header">
                    <div class="card-title">Recent Activity</div>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled mb-0 ecommerce-recent-activity">
                        {
                            ActivityItems.map((item) => (
                                <li class="ecommerce-recent-activity-content">
                                    <div class="d-flex align-items-start">
                                        <div class="me-3">
                                            <span
                                                class={`avatar avatar-sm avatar-rounded bg-light  ${item.avatarTextClass} fw-semibold`}
                                            >
                                                <i class={item.iconClass} />
                                            </span>
                                        </div>
                                        <div class="activity-content">
                                            <span class="d-block fw-medium">
                                                {item.title}
                                            </span>
                                            <span class="d-block fs-12 text-muted">
                                                {item.subtitle}
                                            </span>
                                        </div>
                                        <div class="flex-fill text-end">
                                            <span
                                                class={`d-block ${item.timeColorClass} fs-11 op-7`}
                                            >
                                                {item.time}
                                            </span>
                                        </div>
                                    </div>
                                </li>
                            ))
                        }
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- End:: row-6 -->
    <script>
        import "../scripts/libs/jsvectormap/jsvectormap.min.js";
        import "../scripts/libs/jsvectormap/maps/world-merc.js";
        import "../scripts/js/custom.js";
        import "../scripts/js/widgets.js";
    </script>
</Layout>
