@page "/dashboards/courses"
@using ApexCharts

<!-- Start::page-header -->
<div class="page-header-breadcrumb mb-3">
    <div class="d-flex align-center justify-content-between flex-wrap">
        <h1 class="page-title fw-medium fs-18 mb-0">Courses</h1>
        <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item"><a href="javascript:void(0);">Dashboards</a></li>
            <li class="breadcrumb-item active" aria-current="page">Courses</li>
        </ol>
    </div>
</div>
<!-- End::page-header -->

<!-- Start:: row-1 -->
<div class="row row-cols-xxl-5">
    @foreach (var card in statCards)
    {
        var colClass = card.Title == "Engagement Ratio" ? "col col-lg-12" : "col col-lg-6";
        
        <div class="@colClass">
            <div class="card custom-card @card.BgClass border-0 shadow-none">
                <div class="card-body">
                    <div class="d-flex align-items-start gap-3 flex-wrap">
                        <div class="lh-1">
                            <span class="avatar avatar-lg avatar-rounded @card.IconBgClass svg-white"
                                style="display: inline-flex; align-items: center; justify-content: center;">
                                @((MarkupString)(card.IconSvg ?? ""))
                            </span>
                        </div>
                        <div>
                            <span class="d-block mb-1">@card.Title</span>
                            <div class="d-flex align-items-center gap-2">
                                <h5 class="fw-semibold mb-0">@card.Value</h5>
                                <span class="badge @card.BadgeClass rounded-pill">
                                    <i class="ti ti-arrow-up me-1"></i>@card.Percentage
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
</div>
<!-- End:: row-1 -->

<!-- Start:: row-2 -->
<div class="row">
    <div class="col-xl-6">
        <div class="card custom-card">
            <div class="card-header">
                <div class="card-title">
                    Students Analysis
                </div>
            </div>
            <div class="card-body">
                <div id="students-analysis">
                <ApexChart TItem="SalesStatistic" Height="365" Options="SalesStatisticChartOptions">
                                <!-- Bar Chart: Growth -->
                                <ApexPointSeries TItem="SalesStatistic"
                                                Items="salesstatistic"
                                                SeriesType="@SeriesType.Bar"
                                                Name="Enrolled"
                                                XValue="@(e => e.Month)"
                                                YAggregate="@(e => e.Sum(e => e.Enrolled))"
                                 />

                                <!-- Bar Chart: Sales -->
                                <ApexPointSeries TItem="SalesStatistic"
                                                Items="salesstatistic"
                                                SeriesType="@SeriesType.Bar"
                                                Name="Left"
                                                XValue="@(e => e.Month)"
                                                YAggregate="@(e => e.Sum(e => e.Left))"
                                />     
                        </ApexChart>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-3">
        <div class="card custom-card overflow-hidden">
            <div class="card-header justify-content-between">
                <div class="card-title">
                    Courses List
                </div>
                <a href="javascript:void(0);" class="text-muted">View All <i
                        class="ti ti-arrow-narrow-right ms-1"></i></a>
            </div>
            <div class="card-body p-0">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <div class="d-flex align-items-start flex-wrap gap-3">
                            <div class="lh-1">
                                <span class="avatar avatar-xl">
                                    <img src="../assets/images/media/media-25.jpg" alt="img">
                                </span>
                            </div>
                            <div class="flex-fill fw-medium">
                                <a href="javascript:void(0);" class="text-muted d-block mb-1 fs-10" title="Category"><i class="ti ti-tag fs-11 align-middle"></i>&nbsp;UI/UX</a>
                                <a href="javascript:void(0);" class="d-block mb-2 fs-14">CSS Zero to Hero Class-11</a>
                                <div class="d-flex align-items-center flex-wrap gap-3">
                                    <div class="d-flex align-items-center">
                                        <a href="javascript:void(0);" class="me-2 lh-1">
                                            <span class="avatar avatar-xs avatar-rounded">
                                                <img src="../assets/images/faces/1.jpg" alt="img">
                                            </span>
                                        </a>
                                        <a href="javascript:void(0);" class="flex-fill fs-12">Natasha Sil</a>
                                    </div>
                                    <div class="fs-12">
                                        <span class="me-2">2,189 Views</span>
                                        <span class="d-inline-flex align-items-center"><i class="ri-star-fill fs-16 text-warning me-1"></i>(4.2)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="list-group-item">
                        <div class="d-flex align-items-start flex-wrap gap-3">
                            <div class="lh-1">
                                <span class="avatar avatar-xl">
                                    <img src="../assets/images/media/media-13.jpg" alt="img">
                                </span>
                            </div>
                            <div class="flex-fill fw-medium">
                                <a href="javascript:void(0);" class="text-muted d-block mb-1 fs-10" title="Category"><i class="ti ti-tag fs-11 align-middle"></i>&nbsp;Marketing</a>
                                <a href="javascript:void(0);" class="d-block mb-2 fs-14">Marketing Class-27</a>
                                <div class="d-flex align-items-center flex-wrap gap-3">
                                    <div class="d-flex align-items-center">
                                        <a href="javascript:void(0);" class="me-2 lh-1">
                                            <span class="avatar avatar-xs avatar-rounded">
                                                <img src="../assets/images/faces/13.jpg" alt="img">
                                            </span>
                                        </a>
                                        <a href="javascript:void(0);" class="flex-fill fs-12">John Doe</a>
                                    </div>
                                    <div class="fs-12">
                                        <span class="me-2">1,116 Views</span>
                                        <span class="d-inline-flex align-items-center"><i class="ri-star-fill fs-16 text-warning me-1"></i>(4.5)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="list-group-item">
                        <div class="d-flex align-items-start flex-wrap gap-3">
                            <div class="lh-1">
                                <span class="avatar avatar-xl">
                                    <img src="../assets/images/media/media-24.jpg" alt="img">
                                </span>
                            </div>
                            <div class="flex-fill fw-medium">
                                <a href="javascript:void(0);" class="text-muted d-block mb-1 fs-10" title="Category"><i class="ti ti-tag fs-11 align-middle"></i>&nbsp;Programming</a>
                                <a href="javascript:void(0);" class="d-block mb-2 fs-14">Learn Python-16</a>
                                <div class="d-flex align-items-center flex-wrap gap-3">
                                    <div class="d-flex align-items-center">
                                        <a href="javascript:void(0);" class="me-2 lh-1">
                                            <span class="avatar avatar-xs avatar-rounded">
                                                <img src="../assets/images/faces/5.jpg" alt="img">
                                            </span>
                                        </a>
                                        <a href="javascript:void(0);" class="flex-fill fs-12">Jane Smith</a>
                                    </div>
                                    <div class="fs-12">
                                        <span class="me-2">2,125 Views</span>
                                        <span class="d-inline-flex align-items-center"><i class="ri-star-fill fs-16 text-warning me-1"></i>(4.8)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="list-group-item">
                        <div class="d-flex align-items-start flex-wrap gap-3">
                            <div class="lh-1">
                                <span class="avatar avatar-xl">
                                    <img src="../assets/images/media/media-18.jpg" alt="img">
                                </span>
                            </div>
                            <div class="flex-fill fw-medium">
                                <a href="javascript:void(0);" class="text-muted d-block mb-1 fs-10" title="Category"><i class="ti ti-tag fs-11 align-middle"></i>&nbsp;UI/UX Design</a>
                                <a href="javascript:void(0);" class="d-block mb-2 fs-14">Javascript-45</a>
                                <div class="d-flex align-items-center flex-wrap gap-3">
                                    <div class="d-flex align-items-center">
                                        <a href="javascript:void(0);" class="me-2 lh-1">
                                            <span class="avatar avatar-xs avatar-rounded">
                                                <img src="../assets/images/faces/10.jpg" alt="img">
                                            </span>
                                        </a>
                                        <a href="javascript:void(0);" class="flex-fill fs-12">Robert White</a>
                                    </div>
                                    <div class="fs-12">
                                        <span class="me-2">3,677 Views</span>
                                        <span class="d-inline-flex align-items-center"><i class="ri-star-fill fs-16 text-warning me-1"></i>(4.9)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-xl-3">
        <div class="card custom-card">
            <div class="card-header justify-content-between">
                <div class="card-title">
                    Top Course Categories
                </div>
                <a href="javascript:void(0);" class="text-muted">View All <i
                        class="ti ti-arrow-narrow-right ms-1"></i></a>
            </div>
            <div class="card-body">
                <ul class="list-unstyled top-course-categories-list">
                   @foreach (var Data in TopCourseCategoriesData)
                   {
                    <li>
                        <div class="d-flex align-items-center gap-3 flex-wrap">
                            <div class="lh-1">
                                <span class="avatar avatar-md bg-@Data.BackgroundColor-transparent">
                                    @Data.Abbreviation
                                </span>
                            </div>
                            <div class="flex-fill">
                                <span class="fw-semibold d-block">
                                    @Data.Name
                                </span>
                                <span class="fs-12">@Data.CoursesCount Courses</span>
                            </div>
                            <div class="text-end">
                                <span class="fw-semibold">@Data.StudentsCount</span>
                                <span class="d-block text-muted">Students</span>
                            </div>
                        </div>
                    </li>
                   }
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- End:: row-2 -->

<!-- Start:: row-3 -->
<div class="row">
    <div class="col-xxl-3 col-xl-12">
        <div class="card custom-card">
            <div class="card-header">
                <div class="card-title">
                    Top Instructors
                </div>
            </div>
            <div class="card-body">
                <ul class="list-unstyled top-instructors-list">
                   @foreach (var Data in TopInstructorsData)
                   {
                    <li>
                        <div class="d-flex align-items-center gap-3 flex-wrap">
                            <div class="lh-1">
                                <span class="avatar avatar-md online avatar-rounded">
                                    <img src="@Data.ImgUrl" alt="">
                                </span>
                            </div>
                            <div class="flex-fill">
                                <div class="d-flex align-items-center gap-2 lh-1 mb-1">
                                    <span class="fw-semibold d-block">@Data.Name</span>
                                    <div class="vr"></div>
                                    <div class="d-inline-flex align-items-center">@Data.Rating<i
                                            class="ti ti-star-filled ms-1 text-warning"></i></div>
                                </div>
                                <span class="text-muted fs-13">@Data.StudentsCount Students</span>
                            </div>
                            <div class="text-end">
                                <span class="fw-semibold d-block">@Data.Earnings</span>
                                <span class="fw-semibold fs-13 text-muted">Earnings</span>
                            </div>
                        </div>
                    </li>
                   }
                </ul>
            </div>
        </div>
    </div>
    <div class="col-xxl-3 col-xl-6">
        <div class="card custom-card">
            <div class="card-header">
                <div class="card-title">
                    Upcoming Schedules
                </div>
            </div>
            <div class="card-body">
                <ul class="list-unstyled upcoming-schedules-list">
                    @foreach (var Data in UpcomingSchedulesData)
                    {
                         <li>
                            <div class="d-flex align-items-center justify-content-between gap-1">
                                <div class="w-50">
                                    <div class="mb-1 fw-semibold text-truncate">
                                        @Data.Title
                                    </div>
                                    <div class="d-flex align-items-center gap-2">
                                        <div class="lh-1">
                                            <span class="avatar avatar-xs avatar-rounded">
                                                <img src="@Data.InstructorAvatarUrl" alt="">
                                            </span>
                                        </div>
                                        <div>@Data.InstructorName</div>
                                    </div>
                                </div>
                                <div class="text-end w-50">
                                    <div class="mb-1">
                                        @Data.StartDate - @Data.EndDate
                                    </div>
                                    <span class="d-block fs-12 text-muted">
                                        @Data.StartTime - @Data.EndTime
                                    </span>
                                </div>
                            </div>
                    </li>
                    }
                </ul>
            </div>
        </div>
    </div>
    <div class="col-xxl-3 col-xl-6">
        <div class="card custom-card">
            <div class="card-header">
                <div class="card-title">
                    Payout Report
                </div>
            </div>
            <div class="card-body">
                <div class="row gy-4 mb-5">
                    <div class="col">
                        <div class="d-flex align-items-center p-2 border border-dashed rounded">
                            <div class="me-3">
                                <span class="avatar radius-5 bg-primary-transparent text-primary"><i
                                        class="ti ti-cash fs-5"></i></span>
                            </div>
                            <div class="flex-1">
                                <span class="fs-12 text-muted">Paid</span>
                                <span class="fs-16 fw-semibold d-flex align-items-center">$68,400</span>
                                <span class="text-success fs-12"><i class="ti ti-arrow-up me-1"></i>4.26%</span>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="d-flex align-items-center p-2 border border-dashed rounded">
                            <div class="me-3">
                                <span class="avatar radius-5 bg-secondary-transparent text-secondary"><i
                                        class="ti ti-x fs-5"></i></span>
                            </div>
                            <div class="flex-1">
                                <span class="fs-12 text-muted">Unpaid</span>
                                <span class="fs-16 fw-semibold d-flex align-items-center">$21,300</span>
                                <span class="text-danger fs-12"><i class="ti ti-arrow-down me-1"></i>0.86%</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="payout-Report">

                <ApexChart TItem="Earnings"  Height="212" Options=EarningsChartOptions>
                        <ApexPointSeries TItem="Earnings" Items="earnings" SeriesType="@SeriesType.Line" Name="Paid"
                            XValue="@(e => e.Month)" YAggregate="@(e => e.Sum(e => e.Paid))"/>
                        <ApexPointSeries TItem="Earnings" Items="earnings" SeriesType="@SeriesType.Line" Name="Unpaid"
                            XValue="@(e => e.Month)" YAggregate="@(e => e.Sum(e => e.Sales))"/>
                </ApexChart>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xxl-3 col-xl-12">
        <div class="card custom-card">
            <div class="card-header flex-between justify-content-between">
                <div class="card-title">Ongoing Courses</div>
                <div class="dropdown">
                    <a href="javascript:void(0);" class="text-muted" data-bs-toggle="dropdown" aria-expanded="false">
                        View All<i class="ri-arrow-down-s-line align-middle ms-1"></i>
                    </a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a class="dropdown-item border-bottom" href="javascript:void(0);">Today</a></li>
                        <li><a class="dropdown-item border-bottom" href="javascript:void(0);">This Week</a></li>
                        <li><a class="dropdown-item border-bottom" href="javascript:void(0);">Last Week</a></li>
                    </ul>
                </div>
            </div>
            <div class="card-body">
                <ul class="list-unstyled ongoing-courses-list">
                    @foreach (var Data in OngoingCoursesData)
                    {
                        <li>
                            <div class="d-flex align-items-center gap-3 flex-wrap">
                                <div>
                                    <span class="avatar avatar-md bg-@Data.BackgroundColor-transparent"><i
                                            class="bx bx-@Data.IconClass fs-5"></i></span>
                                </div>
                                <div class="flex-fill">
                                    <div class="d-flex justify-content-between mb-1 flex-wrap">
                                        <span class="fw-semibold d-block w-75 text-truncate">
                                            @Data.Title
                                        </span>
                                        <div>
                                            <p class="mb-0 fs-13 text-muted">
                                                <i class='ti ti-arrow-up align-middle me-1 text-success'></i>@Data.CompletionPercentage
                                            </p>
                                        </div>
                                    </div>
                                    <div class="progress progress-animate progress-xs">
                                        <div class="progress-bar progress-bar-striped progress-bar-animated bg-@Data.ProgressColor"
                                            style="width: @Data.Progress%;"></div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    }
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- End:: row-3 -->

<!-- Start:: row-4 -->
<div class="row">
    <div class="col-xl-12">
        <div class="card custom-card">
            <div class="card-header justify-content-between">
                <div class="card-title">
                    Courses Overview
                </div>
                <div class="d-flex flex-wrap gap-2">
                    <div>
                        <input class="form-control form-control-sm" type="text" placeholder="Search Here"
                            aria-label=".form-control-sm example">
                    </div>
                    <div class="dropdown">
                        <a href="javascript:void(0);" class="btn btn-primary btn-sm btn-wave waves-effect waves-light"
                            data-bs-toggle="dropdown" aria-expanded="false"> Sort By<i
                                class="ri-arrow-down-s-line align-middle ms-1 d-inline-block"></i>
                        </a>
                        <ul class="dropdown-menu" role="menu">
                            <li><a class="dropdown-item" href="javascript:void(0);">New</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0);">Popular</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0);">Relevant</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive custom-course-table">
                    <table class="table text-nowrap">
                        <thead>
                            <th>
                                <input class="form-check-input" type="checkbox" id="checkboxAll" value=""
                                    aria-label="..."  @onchange="ToggleSelectAll" checked="@selectAll">
                            </th>
                            <th>Course Name</th>
                            <th>Instructor</th>
                            <th>Start Date</th>
                            <th>Total Enrolled</th>
                            <th>Average Rating</th>
                            <th>Status</th>
                            <th>Revenue</th>
                            <th>Actions</th>
                        </thead>
                        <tbody>
                            @foreach (var Data in CoursesOverviewData)
                            {
                                 <tr>
                                    <td>
                                        <input class="form-check-input" type="checkbox" id="checkbox1" value=""
                                            aria-label="..." @bind="Data.IsChecked">
                                    </td>
                                    <td>@Data.Title</td>
                                    <td>
                                        <div class="d-flex align-items-center gap-2">
                                            <div class="lh-1">
                                                <span class="avatar avatar-xs avatar-rounded">
                                                    <img src="@Data.InstructorAvatarUrl" alt="">
                                                </span>
                                            </div>
                                            <div>@Data.InstructorName</div>
                                        </div>
                                    </td>
                                    <td>
                                        @Data.StartDate
                                    </td>
                                    <td>
                                        @Data.StudentsEnrolled
                                    </td>
                                    <td>
                                        <div class="d-inline-flex align-items-center">
                                            @Data.Rating<i class="ti ti-star-filled text-warning ms-1"></i>
                                        </div>
                                    </td>
                                    <td>
                                        <span class="badge bg-@Data.StatusBg-transparent">@Data.Status</span>
                                    </td>
                                    <td>
                                        @Data.Revenue
                                    </td>
                                    <td>
                                        <div class="dropdown">
                                            <a aria-label="anchor" href="javascript:void(0);"
                                                class="btn btn-icon btn-sm btn-light border" data-bs-toggle="dropdown"
                                                aria-expanded="false"> <i class="fe fe-more-vertical"></i> </a>
                                            <ul class="dropdown-menu">
                                                <li><a class="dropdown-item" href="javascript:void(0);"><i
                                                            class="ri-eye-line me-2"></i>View</a></li>
                                                <li><a class="dropdown-item" href="javascript:void(0);"><i
                                                            class="ri-pencil-line me-2"></i>Edit</a></li>
                                                <li><a class="dropdown-item" href="javascript:void(0);" @onclick="() => DeleteItem(Data)"><i
                                                            class="ri-delete-bin-line me-2"></i>Delete</a></li>
                                            </ul>
                                        </div>
                                    </td>
                            </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="card-footer border-top-0">
                <div class="d-flex align-items-center">
                    <div> Showing 6 Entries <i class="bi bi-arrow-right ms-2 fw-semibold"></i> </div>
                    <div class="ms-auto">
                        <nav aria-label="Page navigation" class="pagination-style-2">
                            <ul class="pagination mb-0 flex-wrap">
                                <li class="page-item disabled">
                                    <a class="page-link" href="javascript:void(0);">
                                        Prev
                                    </a>
                                </li>
                                <li class="page-item"><a class="page-link" href="javascript:void(0);">1</a></li>
                                <li class="page-item active"><a class="page-link" href="javascript:void(0);">2</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="javascript:void(0);">
                                        <i class="bi bi-three-dots"></i>
                                    </a>
                                </li>
                                <li class="page-item"><a class="page-link" href="javascript:void(0);">17</a></li>
                                <li class="page-item">
                                    <a class="page-link text-primary" href="javascript:void(0);">
                                        next
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End:: row-4 -->


<!-- Charts -->
@code{
    
    private List<SalesStatistic> salesstatistic { get; set; } = SalesStatisticData.GetSalesStatistic();

    private ApexChartOptions<SalesStatistic> SalesStatisticChartOptions { get; set; } = new ApexChartOptions<SalesStatistic>
    {
              
        Chart = new () {
            Height = 365,
            Toolbar = new ApexCharts.Toolbar {
                Tools = new Tools { Zoom = false, Zoomin = false, Zoomout = false,Pan = false, Reset = false,  Download = false},
            },
            Stacked = false, 
        },
        Colors = new List<string> {"var(--primary-color)", "rgb(255, 73, 205)"},
        Grid = new(){
            Show = true,
            BorderColor = "rgba(119, 119, 142, 0.1)",
            StrokeDashArray = 4,
        },
        Stroke = new Stroke { 
            Curve = Curve.Smooth,
            Width =[2, 2], 
        },
        PlotOptions = new(){
            Bar = new(){
                ColumnWidth = "45%",
                BorderRadius = 2,
            }
        },
        Legend = new Legend{
            Show = true,
            Position = LegendPosition.Top,
            Markers = new(){
                Width = 10,
                Height = 10,
            }
        },
        Xaxis =  new XAxis {
            AxisBorder = new () {
                Show = true,
                Color = "rgba(119, 119, 142, 0.05)",
                OffsetX = 0,
                OffsetY = 0,
            },
            AxisTicks = new () {
                Show = true,
                Color = "rgba(119, 119, 142, 0.05)",
                BorderType = ApexCharts.BorderType.Solid,
                OffsetX = 0,
                OffsetY = 0,
            },
            Labels = new XAxisLabels {
                Rotate = -90,
            },
        },
        Yaxis = new List<YAxis>() {
                new YAxis {
                    Title = new AxisTitle {
                        Style = new AxisTitleStyle {
                            Color = "#adb5be",
                            FontSize = "14px",
                            FontWeight = 600,
                            CssClass = "apexcharts-yaxis-label"
                        }
                    },
                    Labels = new YAxisLabels {
                        Formatter= @"function (y) {
                            return y.toFixed(0) + '';
                        }",
                    },
                },
            },
        Tooltip = new() {
                Shared = true,
                Intersect = false,
                Y = new() {
                    Formatter = @"function (y) {
                    if (typeof y !== 'undefined') {
                        return y.toFixed(0) + '%';
                    }
                    return y;
                }",
                    },
        }, 
       
    };

    public class SalesStatistic {
        public string? Month { get; set; }
        public decimal Enrolled { get; set; }
        public decimal Left { get; set; }
    };

    public static class SalesStatisticData {
        public static List<SalesStatistic> GetSalesStatistic() {
            return new List<SalesStatistic>
            {  
                new SalesStatistic { Month = "Jan", Enrolled = 44, Left = 20},
                new SalesStatistic { Month = "Feb", Enrolled = 88, Left = 42},
                new SalesStatistic { Month = "Mar", Enrolled = 58, Left = 38},
                new SalesStatistic { Month = "Apr", Enrolled = 120, Left = 26},
                new SalesStatistic { Month = "May", Enrolled = 112, Left = 80},
                new SalesStatistic { Month = "Jun", Enrolled = 95, Left = 55},
                new SalesStatistic { Month = "Jul", Enrolled = 70, Left = 35},
                new SalesStatistic { Month = "Aug", Enrolled = 88, Left = 43},
                new SalesStatistic { Month = "Sep", Enrolled = 60, Left = 23},
                new SalesStatistic { Month = "Oct", Enrolled = 85, Left = 54},
                new SalesStatistic { Month = "Nov", Enrolled = 77, Left = 74},
                new SalesStatistic { Month = "Dec", Enrolled = 85, Left = 34},
            };
        }
    }

    private List<Earnings> earnings { get; set; } = EarningsData.GetEarnings();
    private ApexChartOptions<Earnings> EarningsChartOptions { get; set; } = new ApexChartOptions<Earnings>
    {
        Chart = new () {
                Height = 212,
                Type = ChartType.Area,
                Toolbar = new ApexCharts.Toolbar {
                    Tools = new Tools { Zoom = false, Zoomin = false, Zoomout = false,Pan = false, Reset = false,  Download = false},
                },
                Background = "none",
                    
        },
        Grid = new Grid {
            Show = true,
                BorderColor = "rgba(119, 119, 142, 0.1)",
                StrokeDashArray = 4,
        },
        Colors = new List<string> {"var(--primary-color)", "rgb(253, 175, 34)"},
         DataLabels = new DataLabels {
                Enabled = false,
        },
        Stroke = new Stroke { 
                Curve = [Curve.Smooth],
                Width = 2,
        },
        Legend = new Legend {
                Show = true,
                Position = LegendPosition.Bottom,
        },  
        Xaxis=new() {
            AxisBorder=new() {
                Show = false, 
                Color = "rgba(119, 119, 142, 0.05)", 
                OffsetX = 0,
                OffsetY = 0,
            },
            AxisTicks = new () {
                    Show = false,
                    BorderType = ApexCharts.BorderType.Solid,
                    Color = "rgba(119, 119, 142, 0.05)",
                    OffsetX = 0,
                    OffsetY = 0,
            },
            Labels = new(){
                Rotate = -90,
            }
        },
          Yaxis = new List<YAxis>() {
                new YAxis {
                    Show = false,
                    AxisBorder = new AxisBorder {
                        Show = false,
                    },
                    AxisTicks = new AxisTicks{
                        Show = false,
                    }
                }
        },
         Tooltip = new() {
                X = new(){
                    Format = "dd/MM/yy HH-mm"
                },
        },  
            
    };
    public class Earnings {
        public string? Month { get; set; }
        public decimal Paid { get; set; }
        public decimal Sales { get; set; }
    } ;
    public static class EarningsData {
        public static List<Earnings> GetEarnings() {
            
            List<Earnings> earnings = new List<Earnings>
            {  
                new Earnings { Month = "1", Paid = 50, Sales = 25},
                new Earnings { Month = "2", Paid = 20, Sales = 15},
                new Earnings { Month = "3", Paid = 32, Sales = 40},
                new Earnings { Month = "4", Paid = 32, Sales = 20},
                new Earnings { Month = "5", Paid = 20, Sales = 25},
                new Earnings { Month = "6", Paid = 50, Sales = 15},
                new Earnings { Month = "7", Paid = 20, Sales = 58},
                new Earnings { Month = "8", Paid = 40, Sales = 28},
                new Earnings { Month = "9", Paid = 25, Sales = 30},
                new Earnings { Month = "10", Paid = 55, Sales = 15},
                new Earnings { Month = "11", Paid = 20, Sales = 58},
                new Earnings { Month = "12", Paid = 30, Sales = 28},
            };
            return earnings;
        }
    }
}

@code{

    public class TopCourseCategories
    {
        public string? Abbreviation { get; set; }         
        public string? Name { get; set; }               
        public string? BackgroundColor { get; set; }     
        public int CoursesCount { get; set; }            
        public string? StudentsCount { get; set; }            
    }
    List<TopCourseCategories> TopCourseCategoriesData = new()
    {
        new TopCourseCategories
        {
            Abbreviation = "SD",
            Name = "Software Development",
            BackgroundColor = "primary",
            CoursesCount = 25,
            StudentsCount = "1,200"
        },
        new TopCourseCategories
        {
            Abbreviation = "DA",
            Name = "Data Science & Analytics",
            BackgroundColor = "secondary",
            CoursesCount = 18,
            StudentsCount = "1,000"
        },
        new TopCourseCategories
        {
            Abbreviation = "BM",
            Name = "Business & Management",
            BackgroundColor = "warning",
            CoursesCount = 22,
            StudentsCount = "1,500"
        },
        new TopCourseCategories
        {
            Abbreviation = "DC",
            Name = "Design & Creativity",
            BackgroundColor = "info",
            CoursesCount = 15,
            StudentsCount = "800"
        },
        new TopCourseCategories
        {
            Abbreviation = "PD",
            Name = "Personal Development",
            BackgroundColor = "success",
            CoursesCount = 12,
            StudentsCount = "600"
        },
        new TopCourseCategories
        {
            Abbreviation = "MS",
            Name = "Marketing & Sales",
            BackgroundColor = "danger",
            CoursesCount = 17,
            StudentsCount = "1,100"
        }
    };

    public class TopInstructors
    {
        public string? ImgUrl { get; set; }      
        public string? Name { get; set; }             
        public double Rating { get; set; }           
        public string? StudentsCount { get; set; }      
        public string? Earnings { get; set; }         
    }
    List<TopInstructors> TopInstructorsData = new()
    {
        new TopInstructors
        {
            ImgUrl = "../assets/images/faces/12.jpg",
            Name = "Dr. John Smith",
            Rating = 4.5,
            StudentsCount = "2,000",
            Earnings = "$15,000.00"
        },
        new TopInstructors
        {
            ImgUrl = "../assets/images/faces/2.jpg",
            Name = "Sarah Miller",
            Rating = 4.7,
            StudentsCount = "1,800",
            Earnings = "$12,500.00"
        },
        new TopInstructors
        {
            ImgUrl = "../assets/images/faces/5.jpg",
            Name = "Emily Clark",
            Rating = 4.9,
            StudentsCount = "1,500",
            Earnings = "$10,200.00"
        },
        new TopInstructors
        {
            ImgUrl = "../assets/images/faces/14.jpg",
            Name = "Mark Taylor",
            Rating = 4.6,
            StudentsCount = "1,200",
            Earnings = "$8,800.00"
        },
        new TopInstructors
        {
            ImgUrl = "../assets/images/faces/12.jpg",
            Name = "Prof. Bob",
            Rating = 4.5,
            StudentsCount = "1,900",
            Earnings = "$11,000.00"
        },
        new TopInstructors
        {
            ImgUrl = "../assets/images/faces/14.jpg",
            Name = "Jessica Lee",
            Rating = 4.7,
            StudentsCount = "1,000",
            Earnings = "$7,500.00"
        }
    };

    public class UpcomingSchedules
    {
        public string? Title { get; set; }              
        public string? InstructorName { get; set; }      
        public string? InstructorAvatarUrl { get; set; } 
        public string? StartDate { get; set; }         
        public string? EndDate { get; set; }         
        public string? StartTime { get; set; }         
        public string? EndTime { get; set; }         
    }
    List<UpcomingSchedules> UpcomingSchedulesData = new()
    {
        new UpcomingSchedules {
            Title = "Introduction to Web Development",
            InstructorName = "Dr. John Smith",
            InstructorAvatarUrl = "../assets/images/faces/11.jpg",
            StartDate = "Feb 20",
            EndDate = "Mar 20",
            StartTime = "10:00 AM",
            EndTime = "12:00 PM"
        },
        new UpcomingSchedules {
            Title = "Advanced Python Programming",
            InstructorName = "Sarah Miller",
            InstructorAvatarUrl = "../assets/images/faces/1.jpg",
            StartDate = "Feb 22",
            EndDate = "Mar 20",
            StartTime = "2:00 PM",
            EndTime = "4:00 PM"
        },
        new UpcomingSchedules {
            Title = "Data Science for Beginners",
            InstructorName = "Emily Clark",
            InstructorAvatarUrl = "../assets/images/faces/4.jpg",
            StartDate = "Feb 25",
            EndDate = "Apr 21",
            StartTime = "9:00 AM",
            EndTime = "11:00 AM"
        },
        new UpcomingSchedules {
            Title = "Digital Marketing Mastery",
            InstructorName = "Mark Taylor",
            InstructorAvatarUrl = "../assets/images/faces/15.jpg",
            StartDate = "Feb 28",
            EndDate = "Apr 04",
            StartTime = "1:00 PM",
            EndTime = "3:00 PM"
        },
        new UpcomingSchedules {
            Title = "Graphic Design Fundamentals",
            InstructorName = "Jessica Lee",
            InstructorAvatarUrl = "../assets/images/faces/6.jpg",
            StartDate = "Mar 05",
            EndDate = "Apr 19",
            StartTime = "11:00 AM",
            EndTime = "1:00 PM"
        }
    };

    public class OngoingCourses
    {
        public string? Title { get; set; }                
        public string? CompletionPercentage { get; set; } 
        public string? PercentageColor { get; set; } 
        public string? Progress { get; set; } 
        public string? ProgressColor { get; set; } 
        public string? IconClass { get; set; }            
        public string? BackgroundColor { get; set; }      
    }
    List<OngoingCourses> OngoingCoursesData = new()
    {
        new OngoingCourses {
            Title = "Introduction to Web Design",
            CompletionPercentage = "93.0%",
            PercentageColor = "primary",
            Progress = "93",
            ProgressColor = "primary",
            IconClass = "store",
            BackgroundColor = "primary"
        },
        new OngoingCourses {
            Title = "Advanced Python Programming",
            CompletionPercentage = "75.0%",
            PercentageColor = "secondary",
            Progress = "75",
            ProgressColor = "secondary",
            IconClass = "layout",
            BackgroundColor = "secondary"
        },
        new OngoingCourses {
            Title = "Data Science for Beginners",
            CompletionPercentage = "85.0%",
            PercentageColor = "warning",
            Progress = "85",
            ProgressColor = "warning",
            IconClass = "code",
            BackgroundColor = "warning"
        },
        new OngoingCourses {
            Title = "Digital Marketing Mastery",
            CompletionPercentage = "73.0%",
            PercentageColor = "info",
            Progress = "73",
            ProgressColor = "info",
            IconClass = "layer",
            BackgroundColor = "info"
        },
        new OngoingCourses {
            Title = "Graphic Design Fundamentals",
            CompletionPercentage = "60.0%",
            PercentageColor = "success",
            Progress = "60",
            ProgressColor = "success",
            IconClass = "recycle",
            BackgroundColor = "success"
        },
        new OngoingCourses {
            Title = "Mastering Adobe Photoshop",
            CompletionPercentage = "60.0%",
            PercentageColor = "danger",
            Progress = "60",
            ProgressColor = "danger",
            IconClass = "recycle",
            BackgroundColor = "danger"
        }
    };

    //Courses Overview start
    public class CoursesOverview
    {
        public string? Title { get; set; }                  
        public bool IsChecked { get; set; }                  
        public string? InstructorName { get; set; }         
        public string? InstructorAvatarUrl { get; set; }     
        public string? StartDate { get; set; }             
        public int? StudentsEnrolled { get; set; }          
        public double? Rating { get; set; }                
        public string? Status { get; set; }                  
        public string? StatusBg { get; set; }                  
        public string? StatusBadgeClass { get; set; }       
        public string? Revenue { get; set; }                
    }
    List<CoursesOverview> CoursesOverviewData = new()
    {
        new CoursesOverview
        {
            Title = "Introduction to Web Development",
            IsChecked = false,
            InstructorName = "Dr. John Smith",
            InstructorAvatarUrl = "../assets/images/faces/12.jpg",
            StartDate = "Feb 20, 2025",
            StudentsEnrolled = 500,
            Rating = 4.8,
            Status = "Active",
            StatusBg = "primary",
            Revenue = "$5,000.00"
        },
        new CoursesOverview
        {
            Title = "Advanced Python Programming",
            IsChecked = true,
            InstructorName = "Sarah Miller",
            InstructorAvatarUrl = "../assets/images/faces/3.jpg",
            StartDate = "Feb 22, 2025",
            StudentsEnrolled = 400,
            Rating = 4.7,
            Status = "Active",
            StatusBg = "primary",
            Revenue = "$4,200.00"
        },
        new CoursesOverview
        {
            Title = "Data Science for Beginners",
            IsChecked = false,
            InstructorName = "Emily Clark",
            InstructorAvatarUrl = "../assets/images/faces/3.jpg",
            StartDate = "Feb 25, 2025",
            StudentsEnrolled = 350,
            Rating = 4.9,
            Status = "Active",
            StatusBg = "primary",
            Revenue = "$4,500.00"
        },
        new CoursesOverview
        {
            Title = "Digital Marketing Mastery",
            IsChecked = false,
            InstructorName = "Mark Taylor",
            InstructorAvatarUrl = "../assets/images/faces/3.jpg",
            StartDate = "Feb 28, 2025",
            StudentsEnrolled = 450,
            Rating = 4.6,
            Status = "Active",
            StatusBg = "primary",
            Revenue = "$6,000.00"
        },
        new CoursesOverview
        {
            Title = "Graphic Design Fundamentals",
            IsChecked = true,
            InstructorName = "Jessica Lee",
            InstructorAvatarUrl = "../assets/images/faces/3.jpg",
            StartDate = "Mar 5, 2025",
            StudentsEnrolled = 300,
            Rating = 4.7,
            Status = "Pending",
            StatusBg = "warning",
            Revenue = "$3,000.00"
        },
        new CoursesOverview
        {
            Title = "Building Mobile Apps with React Native",
            IsChecked = false,
            InstructorName = "Dr. John Smith",
            InstructorAvatarUrl = "../assets/images/faces/3.jpg",
            StartDate = "Mar 8, 2025",
            StudentsEnrolled = 250,
            Rating = 4.8,
            Status = "Active",
            StatusBg = "primary",
            Revenue = "$3,800.00"
        }
    };
    private bool selectAll = false;
    private void ToggleSelectAll(ChangeEventArgs e)
    {
        selectAll = e.Value as bool? ?? false;
        foreach (var item in CoursesOverviewData)
        {
            item.IsChecked = selectAll;
        }
    }
    private void DeleteItem(CoursesOverview Data)
    {
        CoursesOverviewData.Remove(Data);
    }
    //Courses Overview end

    //stat cards
    public class StatCard
    {
        public string? Title { get; set; }
        public string? Value { get; set; }
        public string? Percentage { get; set; }
        public string? BgClass { get; set; }           
        public string? BadgeClass { get; set; }        
        public string? IconSvg { get; set; }          
        public string? IconBgClass { get; set; }       
    }
    private List<StatCard> statCards = new()
    {
        new StatCard
        {
            Title = "Total Courses",
            Value = "643",
            Percentage = "5.32%",
            BgClass = "bg-primary-transparent",
            BadgeClass = "bg-primary-transparent",
            IconBgClass = "bg-primary",
            IconSvg = @"<svg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='#5f6368'>
                            <path d='M0 0h24v24H0z' fill='none' />
                            <path d='M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z' />
                        </svg>"
        },
        new StatCard
        {
            Title = "Total Students",
            Value = "16,332",
            Percentage = "2.43%",
            BgClass = "bg-success-transparent",
            BadgeClass = "bg-success-transparent",
            IconBgClass = "bg-success",
            IconSvg = @"<svg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 0 24 24' width='24px' fill='#5f6368'>
                            <path d='M0 0h24v24H0z' fill='none' />
                            <path d='M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z' />
                        </svg>"
        },
        new StatCard
        {
            Title = "Total Instructors",
            Value = "231",
            Percentage = "0.98%",
            BgClass = "bg-info-transparent",
            BadgeClass = "bg-info-transparent",
            IconBgClass = "bg-info",
            IconSvg = @"<svg xmlns='http://www.w3.org/2000/svg' enable-background='new 0 0 24 24' height='24px' viewBox='0 0 24 24' width='24px' fill='#5f6368'>
                            <g><rect fill='none' height='24' width='24'/></g>
                            <g>
                                <path d='M20,7h-5V4c0-1.1-0.9-2-2-2h-2C9.9,2,9,2.9,9,4v3H4C2.9,7,2,7.9,2,9v11c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V9
                                         C22,7.9,21.1,7,20,7z M9,12c0.83,0,1.5,0.67,1.5,1.5S9.83,15,9,15s-1.5-0.67-1.5-1.5S8.17,12,9,12z M12,18H6v-0.75c0-1,2-1.5,3-1.5
                                         s3,0.5,3,1.5V18z M13,9h-2V4h2V9z M18,16.5h-4V15h4V16.5z M18,13.5h-4V12h4V13.5z'/>
                            </g>
                        </svg>"
        },
        new StatCard
        {
            Title = "Total Earnings",
            Value = "$1.45M",
            Percentage = "1.55%",
            BgClass = "bg-danger-transparent",
            BadgeClass = "bg-danger-transparent",
            IconBgClass = "bg-danger",
            IconSvg = @"<svg xmlns='http://www.w3.org/2000/svg' enable-background='new 0 0 24 24' height='24px' viewBox='0 0 24 24' width='24px' fill='#5f6368'>
                            <g><rect fill='none' height='24' width='24'/></g>
                            <g>
                                <path d='M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12.88,17.76V19h-1.75v-1.29
                                    c-0.74-0.18-2.39-0.77-3.02-2.96l1.65-0.67c0.06,0.22,0.58,2.09,2.4,2.09c0.93,0,1.98-0.48,1.98-1.61c0-0.96-0.7-1.46-2.28-2.03
                                    c-1.1-0.39-3.35-1.03-3.35-3.31c0-0.1,0.01-2.4,2.62-2.96V5h1.75v1.24c1.84,0.32,2.51,1.79,2.66,2.23l-1.58,0.67
                                    c-0.11-0.35-0.59-1.34-1.9-1.34c-0.7,0-1.81,0.37-1.81,1.39c0,0.95,0.86,1.31,2.64,1.9c2.4,0.83,3.01,2.05,3.01,3.45
                                    C15.9,17.17,13.4,17.67,12.88,17.76z'/>
                            </g>
                        </svg>"
        },
        new StatCard
    {
        Title = "Engagement Ratio",
        Value = "45%",
        Percentage = "3.45%",
        BgClass = "bg-warning-transparent",
        BadgeClass = "bg-warning-transparent",
        IconBgClass = "bg-warning",
        IconSvg = @"<svg xmlns='http://www.w3.org/2000/svg' enable-background='new 0 0 24 24' height='24px'
                            viewBox='0 0 24 24' width='24px' fill='#5f6368'>
                        <g><rect fill='none' height='24' width='24'/></g>
                        <g>
                            <g>
                                <g>
                                    <g>
                                        <path d='M7.5,11C9.43,11,11,9.43,11,7.5S9.43,4,7.5,4S4,5.57,4,7.5S5.57,11,7.5,11z M7.5,6C8.33,6,9,6.67,9,7.5S8.33,9,7.5,9 S6,8.33,6,7.5S6.67,6,7.5,6z'/>
                                    </g>
                                </g>
                                <g>
                                    <rect height='2' transform='matrix(0.7071 -0.7071 0.7071 0.7071 -4.9706 12)' width='20.63' x='1.69' y='11' />
                                </g>
                                <g>
                                    <g>
                                        <path d='M16.5,13c-1.93,0-3.5,1.57-3.5,3.5s1.57,3.5,3.5,3.5s3.5-1.57,3.5-3.5S18.43,13,16.5,13z M16.5,18 c-0.83,0-1.5-0.67-1.5-1.5s0.67-1.5,1.5-1.5s1.5,0.67,1.5,1.5S17.33,18,16.5,18z'/>
                                    </g>
                                </g>
                            </g>
                        </g>
                    </svg>"
    }
    };

}