@page "/dashboards/medical"
@using ApexCharts


<!-- Start::page-header -->
<div class="page-header-breadcrumb mb-3">
    <div class="d-flex align-center justify-content-between flex-wrap">
        <h1 class="page-title fw-medium fs-18 mb-0">Medical</h1>
        <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item"><a href="javascript:void(0);">Dashboards</a></li>
            <li class="breadcrumb-item active" aria-current="page">Medical</li>
        </ol>
    </div>
</div>
<!-- End::page-header -->

<!-- Start:: row-1 -->
<div class="row">
    <div class="col-xxl-5">
        <div class="row">
            @foreach (var card in MedicalDashboardCards)
            {
             <div class="col-xl-6">
                <div class="card custom-card dashboard-main-card medical-main-card @card.BgColorClass">
                    <div class="card-body">
                        <div class="d-flex align-items-start justify-content-between mb-2">
                            <div class="flex-fill">
                                <div class="mb-2">@card.Title</div>
                                <h4 class="fw-semibold @card.TextColorClass mb-0">@card.Value</h4>
                            </div>
                            <div>
                                <span class="avatar avatar-md bg-@card.BgColorClass-transparent svg-@card.BgColorClass">
                                    @if (!string.IsNullOrEmpty(card.Svg))
                                    {
                                        @((MarkupString)card.Svg)
                                    }

                                </span>
                            </div>
                        </div>
                        <div class="d-flex fs-13 align-items-center justify-content-between">
                            <div class="text-muted">@card.FooterLabel</div>
                            <div class="@card.PercentageChangeColor d-inline-flex">
                                @if (!string.IsNullOrEmpty(card.IconTrendClass))
                                {
                                    <i class="ti ti-trending-@card.IconTrendClass align-middle me-1"></i>
                                }
                                @card.PercentageChange
                            </div>
                        </div>
                    </div>
                </div>
             </div>
            }
            <div class="col-xl-12">
                <div class="card custom-card">
                    <div class="card-header justify-content-between">
                        <div class="card-title">
                            Patient Statistics
                        </div>
                        <div class="btn-group" role="group" aria-label="Basic example">
                            <button type="button"
                                class="btn btn-primary btn-sm btn-wave waves-effect waves-light">1D</button>
                            <button type="button"
                                class="btn btn-primary-light btn-sm btn-wave waves-effect waves-light">1W</button>
                            <button type="button"
                                class="btn btn-primary-light btn-sm btn-wave waves-effect waves-light">1M</button>
                            <button type="button"
                                class="btn btn-primary-light btn-sm btn-wave waves-effect waves-light">6M</button>
                            <button type="button"
                                class="btn btn-primary-light btn-sm btn-wave waves-effect waves-light">1Y</button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div id="patients-statistics">
                        <ApexChart TItem="PatientStatistics" Width=576 Height=260 Options=PatientStatisticsChartOptions>
                            <ApexPointSeries TItem="PatientStatistics" Items="patientStatistics" SeriesType="@SeriesType.Bar"
                                Name="Treated Patients" XValue="@(e => e.Month)" YAggregate="@(e => e.Sum(e => e.TreatedPatients))"/>
                            <ApexPointSeries TItem="PatientStatistics" Items="patientStatistics" SeriesType="@SeriesType.Bar"
                                Name="Active Patients" XValue="@(e => e.Month)" YAggregate="@(e => e.Sum(e => e.ActivePatients))"/>
                            <ApexPointSeries TItem="PatientStatistics" Items="patientStatistics" SeriesType="@SeriesType.Bar"
                                Name="New Patients" XValue="@(e => e.Month)" YAggregate="@(e => e.Sum(e => e.NewPatients))"/>
                        </ApexChart>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xxl-7">
        <div class="row">
            <div class="col-xl-12">
                <div class="card custom-card available-treatments-card">
                    <div class="card-header justify-content-between">
                        <div class="card-title">
                            Available Treatments
                        </div>
                        <a href="javascript:void(0);" class="text-muted fs-13">View All<i
                                class="ti ti-arrow-narrow-right ms-1"></i></a>
                    </div>
                    <div class="card-body">
                        <div class="row gy-sm-0 gy-3 gx-3 !flex-wrap">                        
                            @foreach (var treatment in treatments)
                            {
                                <div class="col-xxl-2 col-xl-2 col-lg-3 col-md-3 col-sm-3 col text-center">
                                    <a aria-label="anchor" href="javascript:void(0);" class="btn btn-@treatment.ButtonClass-light btn-icon">
                                        <i class="@treatment.IconClass"></i>
                                    </a>
                                    <a href="javascript:void(0);" class="d-block mt-3 fw-medium">@treatment.Name</a>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-7">
                <div class="card custom-card overflow-hidden">
                    <div class="card-header justify-content-between">
                        <div class="card-title">
                            Today's Appointments
                        </div>
                        <a href="javascript:void(0);" class="text-muted fs-13">View All<i
                                class="ti ti-arrow-narrow-right ms-1"></i></a>
                    </div>
                    <div class="card-body p-0">
                        <div class="table-responsive custom-border-table">
                            <table class="table text-nowrap appointments-table">
                                <tbody>
                                    @foreach (var appointment in Appointments)
                                    {
                                        <tr>
                                            <td>
                                                <div class="d-flex align-items-center gap-2">
                                                    <div class="lh-1">
                                                        <span class="avatar avatar-sm avatar-rounded">
                                                            <img src="@appointment.ImageUrl" alt="">
                                                        </span>
                                                    </div>
                                                    <div>
                                                        <span class="fw-semibold d-block">@appointment.Name</span>
                                                        <span class="fs-13 text-muted">@appointment.Gender,@appointment.Age Yrs</span>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <span class="badge @appointment.BadgeClass">@appointment.Department</span>
                                            </td>
                                            <td>
                                                @appointment.Time
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-5">
                <div class="card custom-card">
                    <div class="card-header">
                        <div class="card-title">
                            Available Doctors
                        </div>
                    </div>
                    <div class="card-body p-0">
                        <nav class="nav nav-style-1 nav-pills mb-2 nav-justified p-3 pb-0" role="tablist">
                            <a class="nav-link px-2" data-bs-toggle="tab" role="tab" href="#tue" aria-selected="false"
                                tabindex="-1">
                                <span class="d-block mb-1">22</span>
                                <span class="op-6 fs-12">Sat</span>
                            </a>
                            <a class="nav-link px-2" data-bs-toggle="tab" role="tab" href="#wed" aria-selected="false"
                                tabindex="-1">
                                <span class="d-block mb-1">23</span>
                                <span class="op-6 fs-12">Sun</span>
                            </a>
                            <a class="nav-link px-2 active" data-bs-toggle="tab" aria-current="page" role="tab"
                                href="#thu" aria-selected="true" tabindex="-1">
                                <span class="d-block mb-1">24</span>
                                <span class="op-6 fs-12">Mon</span>
                            </a>
                            <a class="nav-link px-2" data-bs-toggle="tab" role="tab" href="#fri" aria-selected="false"
                                tabindex="-1">
                                <span class="d-block mb-1">25</span>
                                <span class="op-6 fs-12">Tue</span>
                            </a>
                            <a class="nav-link px-2" data-bs-toggle="tab" role="tab" href="#sat" aria-selected="false"
                                tabindex="-1">
                                <span class="d-block mb-1">26</span>
                                <span class="op-6 fs-12">Wed</span>
                            </a>
                        </nav>
                        <ul class="list-unstyled availabe-doctors-list overflow-y-scroll p-4" id="available-doctors">
                            @foreach(var doc in schedules)
                            {
                                <li>
                                    <div class="d-flex align-items-start gap-2">
                                        <div class="flex-fill">
                                            <span class="d-block fw-semibold">@doc.Name</span>
                                            <span class="@doc.SpecialtyClass fs-13">@doc.Specialty</span>
                                        </div>
                                        <div class="fs-13 text-muted d-flex align-items-center gap-1">
                                            <i class="ti ti-clock-hour-3"></i>@doc.Time
                                        </div>
                                    </div>
                                </li>
                            }
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End:: row-1 -->

<!-- Start:: row-2 -->
<div class="row">
    <div class="col-xxl-3 col-xl-6">
        <div class="card custom-card overflow-hidden">
            <div class="card-header">
                <div class="card-title">
                    Patients Visits
                </div>
            </div>
            <div class="card-body">
                <div id="patients-visits">
                <ApexChart TItem="PatientsVisits" Options="PatientsVisitsChartOptions" Height="228">
                    <ApexPointSeries 
                        TItem="PatientsVisits"
                        Items="PatientsVisitsList"
                        SeriesType="SeriesType.RadialBar"
                        Name="Department"
                        XValue="@(e => e.Gender)"
                        YAggregate="@(e => decimal.Round(e.Average(e => e.Value)))" />
                </ApexChart>

                </div>
            </div>
            <div class="card-footer p-0">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <div class="d-flex align-items-center gap-2">
                            <div class="lh-1">
                                <span class="avatar avatar-md avatar-rounded bg-primary-transparent">
                                    <i class="ti ti-gender-male fs-5"></i>
                                </span>
                            </div>
                            <div class="flex-fill">
                                <span class="fw-semibold d-block">Male</span>
                                <span class="fs-13 d-block text-muted"><span
                                        class="text-success me-2 d-inline-flex align-items-center"><i
                                            class="ti ti-trending-up me-1 align-middle"></i>5.23%</span>Since Last
                                    Week</span>
                            </div>
                            <div class="text-primary fw-semibold">89%</div>
                        </div>
                    </li>
                    <li class="list-group-item">
                        <div class="d-flex align-items-center gap-2">
                            <div class="lh-1">
                                <span class="avatar avatar-md avatar-rounded bg-secondary-transparent">
                                    <i class="ti ti-gender-female fs-5"></i>
                                </span>
                            </div>
                            <div class="flex-fill">
                                <span class="fw-semibold d-block">Female</span>
                                <span class="fs-13 d-block text-muted"><span
                                        class="text-danger me-2 d-inline-flex align-items-center"><i
                                            class="ti ti-trending-down me-1 align-middle"></i>8.85%</span>Since Last
                                    Week</span>
                            </div>
                            <div class="text-secondary fw-semibold">75%</div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-xxl-3 col-xl-6">
        <div class="card custom-card overflow-hidden">
            <div class="card-header justify-content-between">
                <div class="card-title">
                    Top Doctors
                </div>
                <a href="javascript:void(0);" class="fs-13 text-muted">View All<i
                        class="ti ti-arrow-narrow-right ms-1"></i></a>
            </div>
            <div class="card-body p-0">
                <ul class="list-group list-group-flush">
                   @foreach(var doctor in topDoctors)
                    {
                        <li class="list-group-item">
                            <a href="javascript:void(0);" class="stretched-link"></a>
                            <div class="d-flex align-items-center gap-3">
                                <div class="lh-1">
                                    <span class="avatar avatar-md avatar-rounded bg-light">
                                        <img src="@doctor.ImgSrc" alt="@doctor.Name" />
                                    </span>
                                </div>
                                <div class="flex-fill">
                                    <span class="d-block fw-semibold">@doctor.Name</span>
                                    <span class="d-block fs-13 text-muted">@doctor.Specialty</span>
                                </div>
                                <div class="text-end">
                                    <div>
                                        <span class="d-inline-flex align-items-center">
                                            @doctor.Rating
                                            <i class="ti ti-star-filled ms-1 text-warning"></i>
                                        </span>
                                    </div>
                                    <span class="fs-13 text-muted">@doctor.Experience</span>
                                </div>
                            </div>
                        </li>
                    }
                </ul>
            </div>
        </div>
    </div>
    <div class="col-xxl-3 col-xl-6">
        <div class="card custom-card">
            <div class="card-header justify-content-between">
                <div class="card-title">
                    Patients Reports
                </div>
                <a href="javascript:void(0);" class="fs-13 text-muted">View All<i
                        class="ti ti-arrow-narrow-right ms-1"></i></a>
            </div>
            <div class="card-body">
                <ul class="list-unstyled patients-reports-list">
                    @foreach (var report in reports)
                    {
                        <li>
                            <div class="d-flex align-items-center gap-2 flex-wrap">
                                <div class="lh-1">
                                    <span class="avatar avatar-md bg-@report.StatusIconBgClass-transparent avatar-rounded">
                                        <i class="ti ti-@report.StatusIconClass fs-20"></i>
                                    </span>
                                </div>
                                <div class="flex-fill">
                                    <span class="d-block fw-semibold">@report.PatientName</span>
                                    <span class="d-block fs-13 text-muted">@report.ReportType</span>
                                </div>
                                <div class="text-end">
                                    <span class="d-flex align-items-center gap-1">
                                        <i class="ti ti-@report.StatusIcon text-@report.StatusColorClass fs-20"></i>@report.Status
                                    </span>
                                    <span class="fs-13 text-muted">@report.Date.ToString("MMM dd, yyyy")</span>
                                </div>
                            </div>
                        </li>
                    }
                </ul>
            </div>
        </div>
    </div>
    <div class="col-xxl-3 col-xl-6">
        <div class="card custom-card">
            <div class="card-header">
                <div class="card-title">
                    Top Departments
                </div>
            </div>
            <div class="card-body py-0">
                <div id="top-departments">
                <ApexChart TItem="TopDepartment" Height=358 Options=TopDepartmentsChartOptions>
                    <ApexPointSeries TItem="TopDepartment"
                        Items="topDepartments"
                        SeriesType="@SeriesType.Bar"
                        Name="Patients"
                        XValue="@(e => e.Department)"
                        YAggregate="@(e => e.Sum(e => e.Patients))"/>
                </ApexChart>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End:: row-2 -->

<!-- Start:: row-3 -->
<div class="row">
    <div class="col-xl-12">
        <div class="card custom-card">
            <div class="card-header justify-content-between">
                <div class="card-title">
                    Patient Records
                </div>
                <div class="d-flex flex-wrap gap-2">
                    <div>
                        <input class="form-control form-control-sm" type="text" placeholder="Search Here"
                            aria-label=".form-control-sm example">
                    </div>
                    <div class="dropdown">
                        <a href="javascript:void(0);" class="btn btn-primary btn-sm btn-wave waves-effect waves-light"
                            data-bs-toggle="dropdown" aria-expanded="false"> Sort By<i
                                class="ri-arrow-down-s-line align-middle ms-1 d-inline-block"></i>
                        </a>
                        <ul class="dropdown-menu" role="menu">
                            <li><a class="dropdown-item" href="javascript:void(0);">New</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0);">Popular</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0);">Relevant</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table text-nowrap">
                        <thead>
                            <tr>
                                <th>
                                    Patient ID
                                </th>
                                <th>Name</th>
                                <th>Age</th>
                                <th>Gender</th>
                                <th>Consultation Type</th>
                                <th>Doctor</th>
                                <th>Status</th>
                                <th>Appointment Date</th>
                                <th>Time</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                           @foreach (var patient in PatientRecords)
                            {
                                <tr>
                                    <td>@patient.Id</td>
                                    <td>@patient.Name</td>
                                    <td>@patient.Age</td>
                                    <td>@patient.Gender</td>
                                    <td>@patient.Department</td>
                                    <td>
                                        <div class="d-flex align-items-center gap-2">
                                            <div class="lh-1">
                                                <span class="avatar avatar-sm avatar-rounded bg-light">
                                                    <img src="@patient.DoctorImgSrc" alt="" />
                                                </span>
                                            </div>
                                            <div>@patient.DoctorName</div>
                                        </div>
                                    </td>
                                    <th>
                                        <span class="badge bg-@(patient.Status == "Pending"? "warning": patient.Status == "Ongoing"? "primary" : "success")-transparent">@patient.Status</span>
                                    </th>
                                    <th>@patient.Date</th>
                                    <th>@patient.Time</th>
                                    <th>
                                        <div class="dropdown">
                                            <a aria-label="anchor" href="javascript:void(0);" data-bs-toggle="dropdown"
                                            aria-expanded="false" class="btn btn-icon btn-sm btn-light">
                                                <i class="ti ti-dots-vertical"></i>
                                            </a>
                                            <ul class="dropdown-menu" role="menu">
                                                <li><a class="dropdown-item d-inline-flex align-items-center" href="javascript:void(0);"><i class="ti ti-eye me-2"></i>View</a></li>
                                                <li><a class="dropdown-item d-inline-flex align-items-center" href="javascript:void(0);"><i class="ti ti-edit me-2"></i>Edit</a></li>
                                                <li><a class="dropdown-item d-inline-flex align-items-center" href="javascript:void(0);"  
                                                        @onclick="() => { if (!string.IsNullOrEmpty(patient?.Id)) DeleteRecord(patient.Id); }">
                                                <i class="ti ti-trash me-2"></i>Delete</a></li>
                                            </ul>
                                        </div>
                                    </th>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="card-footer border-top-0">
                <div class="d-flex align-items-center">
                    <div> Showing 6 Entries <i class="bi bi-arrow-right ms-2 fw-semibold"></i> </div>
                    <div class="ms-auto">
                        <nav aria-label="Page navigation" class="pagination-style-2">
                            <ul class="pagination mb-0 flex-wrap">
                                <li class="page-item disabled">
                                    <a class="page-link" href="javascript:void(0);">
                                        Prev
                                    </a>
                                </li>
                                <li class="page-item"><a class="page-link" href="javascript:void(0);">1</a></li>
                                <li class="page-item active"><a class="page-link" href="javascript:void(0);">2</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="javascript:void(0);">
                                        <i class="bi bi-three-dots"></i>
                                    </a>
                                </li>
                                <li class="page-item"><a class="page-link" href="javascript:void(0);">17</a></li>
                                <li class="page-item">
                                    <a class="page-link text-primary" href="javascript:void(0);">
                                        next
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End:: row-3 -->

<!-- Charts -->
@code{

    // PatientStatistics Start //
    private List<PatientStatistics> patientStatistics { get; set; } = PatientStatisticsData.GetPatientStatistics();
    private ApexChartOptions<PatientStatistics> PatientStatisticsChartOptions { get; set; } = new();

    public class PatientStatistics {
        public string? Month { get; set; }
        public decimal TreatedPatients { get; set; }
        public decimal ActivePatients { get; set; }
        public decimal NewPatients { get; set; }
    }

    public static class PatientStatisticsData {
        public static List<PatientStatistics> GetPatientStatistics() {
            List<PatientStatistics> patientStatistics = new List<PatientStatistics>
            {  
                new PatientStatistics { Month = "Jan", TreatedPatients = 44, ActivePatients = 74, NewPatients = 84},
                new PatientStatistics { Month = "Feb", TreatedPatients = 42, ActivePatients = 72, NewPatients = 82},
                new PatientStatistics { Month = "Mar", TreatedPatients = 57, ActivePatients = 87, NewPatients = 97},
                new PatientStatistics { Month = "Apr", TreatedPatients = 86, ActivePatients = 116, NewPatients = 126},
                new PatientStatistics { Month = "May", TreatedPatients = 58, ActivePatients = 88, NewPatients = 98},
                new PatientStatistics { Month = "Jun", TreatedPatients = 55, ActivePatients = 85, NewPatients = 95},
                new PatientStatistics { Month = "Jul", TreatedPatients = 70, ActivePatients = 100, NewPatients = 110},
                new PatientStatistics { Month = "Aug", TreatedPatients = 43, ActivePatients = 73, NewPatients = 83},
                new PatientStatistics { Month = "Sep", TreatedPatients = 23, ActivePatients = 53, NewPatients = 63},
                new PatientStatistics { Month = "Oct", TreatedPatients = 54, ActivePatients = 84, NewPatients = 94},
                new PatientStatistics { Month = "Nov", TreatedPatients = 77, ActivePatients = 107, NewPatients = 117},
                new PatientStatistics { Month = "Dec", TreatedPatients = 34, ActivePatients = 64, NewPatients = 74},
            };
            return patientStatistics;
        }
    }
    // PatientStatistics End //

    // TopDepartments Statistics start //

    private List<TopDepartment> topDepartments { get; set; } = TopDepartmentsData.GetTopDepartments();
    private ApexChartOptions<TopDepartment> TopDepartmentsChartOptions { get; set; } = new();

    public class TopDepartment {
        public string? Department { get; set; }
        public decimal Patients { get; set; }
    };

    public static class TopDepartmentsData {
        public static List<TopDepartment> GetTopDepartments() {
            
            List<TopDepartment> topDepartments = new List<TopDepartment>
            {  
                new TopDepartment { Department = "Dermatologists", Patients = 400 },
                new TopDepartment { Department = "Cardiologist", Patients = 430 },
                new TopDepartment { Department = "Gynecologist", Patients = 470 },
                new TopDepartment { Department = "Dentist", Patients = 540 },
                new TopDepartment { Department = "Neurosurgeon", Patients = 600 },
                new TopDepartment { Department = "Orthopedic", Patients = 800 },
            };
            return topDepartments;
        }
    }

    // TopDepartments Statistics end //


    // Patients Visits Overview //
    private List<PatientsVisits> PatientsVisitsList { get; set; } = DataPatientsVisits.GetPatientsVisits();
    private ApexChartOptions<PatientsVisits> PatientsVisitsChartOptions { get; set; } = new();
    public static class DataPatientsVisits
    {
        public static List<PatientsVisits> GetPatientsVisits()
        {
            return new List<PatientsVisits>
            {
                new PatientsVisits { Gender = "Female", Value = 89 },
                new PatientsVisits { Gender = "Male", Value = 75 },
            };
        }
    }

    public class PatientsVisits
    {
        public string? Gender { get; set; }
        public decimal Value { get; set; }
    }
    // Patients Visits Overview //


      protected override void OnInitialized(){
        PatientStatisticsChartOptions = new ApexChartOptions<PatientStatistics>
        {
            Chart = new () {
                Height = 260,
                Type = ChartType.Bar,
                Toolbar = new ApexCharts.Toolbar {
                    Show = true,
                    Tools = new Tools { Zoom = true, Zoomin = false, Zoomout = false, Pan = false, Reset = false, Download = true },
                },
                Stacked = true,
            },
            Grid = new Grid {
                BorderColor = "#f5f4f4",
                StrokeDashArray = 5,
                Yaxis = new(){
                    Lines = new(){
                        Show = true
                    }
                }
            },
            Colors = new Color(new List<string> { "var(--primary-color)", "var(--primary06)", "var(--primary03)", }),
            PlotOptions = new PlotOptions {
                Bar = new PlotOptionsBar {
                    ColumnWidth = "40%",
                    BorderRadius = 4,
                }
            },
            DataLabels = new DataLabels {
                Enabled = false,
            },
            Legend = new Legend {
                Show = true,
                Position = LegendPosition.Bottom,
                HorizontalAlign = ApexCharts.Align.Center,
                FontSize = "11px",
                FontFamily = "Helvetica, Arial",
                FontWeight = 600,
                OffsetX = 0,
                OffsetY = 10,
                Labels = new(){
                   Colors = new Color(new List<string> {"#74767c"}),  
                },
                Markers = new() {
                    Width = 4,
                    Height = 4,
                    StrokeWidth = 0,
                    StrokeColor = "#fff",
                    FillColors = null,
                    Radius = 12,
                    OffsetX = 0,
                    OffsetY = 0
                },
            },
            Yaxis = new List<YAxis>() {
                new YAxis {
                    Title = new AxisTitle {
                        Style = new AxisTitleStyle {
                            Color = "#adb5be",
                            FontSize = "14px",
                            FontWeight = 600,
                            CssClass = "apexcharts-yaxis-label"
                        }
                    },
                    AxisBorder= new AxisBorder{
                        Show = true,
                        Color = "rgba(119, 119, 142, 0.05)",
                        OffsetX = 0,
                        OffsetY = 0
                    },
                    AxisTicks = new AxisTicks{
                        Show =true,
                        BorderType = ApexCharts.BorderType.Solid,
                        Color = "rgba(119, 119, 142, 0.05)",
                        OffsetX = 0,
                        OffsetY = 0
                    },
                    Labels = new YAxisLabels {
                        Formatter= @"function (y) {
                            return y.toFixed(0) + 'k';
                        }",
                    },
                },
            },
            Xaxis = new XAxis {
                AxisBorder= new AxisBorder{
                        Show = false,
                        Color = "rgba(119, 119, 142, 0.05)",
                        OffsetX = 0,
                        OffsetY = 0
                    },
                    AxisTicks = new AxisTicks{
                        Show =false,
                        BorderType = ApexCharts.BorderType.Solid,
                        Color = "rgba(119, 119, 142, 0.05)",
                        OffsetX = 0,
                        OffsetY = 0
                    },
                    Labels = new XAxisLabels {
                       Rotate = -90
                    },
            },
        };

        
        TopDepartmentsChartOptions = new ApexChartOptions<TopDepartment>
        {
            Chart = new () {
                Type = ChartType.Bar,
                Height = 358,
                Toolbar = new ApexCharts.Toolbar {
                    Tools = new Tools { Zoom = false, Zoomin = false, Zoomout = false, Pan = false, Reset = false, Download = false },
                },
                FontFamily = "Poppins, Arial, sans-serif",
            }, 
            PlotOptions = new PlotOptions {
                Bar = new PlotOptionsBar {
                    BorderRadius = 3,
                    Horizontal = true,
                    ColumnWidth = "20%",
                    BarHeight = "40%",
                }
            },
            Colors = new List<string> {"var(--primary-color)"},
            Grid = new Grid {
                Show = false,
                BorderColor = "transparent",
            },
            DataLabels = new DataLabels {
                Enabled = false,
            },
            Xaxis =  new XAxis {
                Labels = new XAxisLabels {
                    Show = true,
                    Style = new AxisLabelStyle {
                        Colors= "#adb5be",
                        FontSize = "11px",
                        FontWeight = 600,
                        CssClass = "apexcharts-xaxis-label"
                    }
                },
            },
             Yaxis = new List<YAxis>() {
                new YAxis {
                    Labels = new YAxisLabels {
                    Show = true,
                    Style = new AxisLabelStyle {
                        Colors= "#adb5be",
                        FontSize = "11px",
                        FontWeight = 600,
                        CssClass = "apexcharts-yaxis-label"
                    }
                },
                },
            },
            
        };

        PatientsVisitsChartOptions = new ApexChartOptions<PatientsVisits>{
                Chart = new() {
                    Height = 228, 
                    Type = ChartType.RadialBar,
                },
                PlotOptions = new PlotOptions {
                    RadialBar = new PlotOptionsRadialBar {
                        StartAngle = -135,
                        EndAngle = 135,
                        OffsetY = 0,
                    Hollow = new() {
                        Margin = 15,
                        Size = "60%",
                        Background = "#000",
                    },
                    Track = new() {
                        Background = "#000",
                        Margin = 6, 
                    }, 
                    DataLabels = new RadialBarDataLabels {
                        Show = true,
                        Name = new() {
                            Show = true,
                            FontSize = "20px",
                            OffsetY = -5,
                        },
                        Value = new() {
                            Show = true,
                            FontSize = "22px",
                            Color = "undefined",
                            OffsetY = 5,
                            FontWeight = 600,
                            Formatter = @"function (val) {
                                return val + '';
                            }",
                        },
                        Total = new() {
                            Show = true,
                            Label = "Total Patients",
                            FontSize = "14px",
                            FontWeight = 400,
                            Color = "#495057",
                        },
                    },
                }
            },
            Stroke = new Stroke {
                DashArray = 4,
                Width = 5
            },
            Colors = new List<string> { "var(--primary-color)", "rgba(var(--secondary-rgb), 1)" },  
      };
    }

}

@code{

    //Dashboard Cards start
    public class MedicalDashboardCard
    {
        public string? Title { get; set; }
        public string? Value { get; set; }
        public string? TextColorClass { get; set; }        
        public string? BgColorClass { get; set; }          
        public string? Svg { get; set; }
        public string? FooterLabel { get; set; }
        public string? PercentageChange { get; set; }
        public string? PercentageChangeColor { get; set; }     
        public string? IconTrendClass { get; set; }       
    }
    List<MedicalDashboardCard> MedicalDashboardCards = new()
    {
        new()
        {
            Title = "Total Visitors",
            Value = "11,232",
            TextColorClass = "text-primary",
            BgColorClass = "primary",
            Svg = "<svg xmlns='http://www.w3.org/2000/svg' enable-background='new 0 0 24 24' height='24px' viewBox='0 0 24 24' width='24px' fill='#5f6368'><g><rect fill='none' height='24' width='24' /></g><g><path d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z' /></g></svg>",
            FooterLabel = "Since Last Month",
            PercentageChange = "3.24%",
            PercentageChangeColor = "text-success",
            IconTrendClass = "up"
        },
        new()
        {
            Title = "Appointments Booked",
            Value = "2,976",
            TextColorClass = "text-secondary",
            BgColorClass = "secondary",
            Svg = "<svg xmlns='http://www.w3.org/2000/svg' enable-background='new 0 0 24 24' height='24px' viewBox='0 0 24 24' width='24px' fill='#5f6368'><rect fill='none' height='24' width='24' /><g><path  d='M17,1H7C5.9,1,5,1.9,5,3v18c0,1.1,0.9,2,2,2h10c1.1,0,2-0.9,2-2V3C19,1.9,18.1,1,17,1z M7,18V6h10v12H7z M16,11V9.14 C16,8.51,15.55,8,15,8H9C8.45,8,8,8.51,8,9.14l0,1.96c0.55,0,1,0.45,1,1c0,0.55-0.45,1-1,1l0,1.76C8,15.49,8.45,16,9,16h6 c0.55,0,1-0.51,1-1.14V13c-0.55,0-1-0.45-1-1C15,11.45,15.45,11,16,11z M12.5,14.5h-1v-1h1V14.5z M12.5,12.5h-1v-1h1V12.5z M12.5,10.5h-1v-1h1V10.5z' /></g></svg>",
            FooterLabel = "Since Last Month",
            PercentageChange = "15.69%",
            PercentageChangeColor = "text-success",
            IconTrendClass = "up"
        },
        new()
        {
            Title = "Total Patients",
            Value = "535",
            TextColorClass = "text-warning",
            BgColorClass = "warning",
            Svg = "<svg xmlns='http://www.w3.org/2000/svg' enable-background='new 0 0 24 24' height='24px' viewBox='0 0 24 24' width='24px' fill='#5f6368'><rect fill='none' height='24' width='24' /><g><path d='M8,6c0-2.21,1.79-4,4-4s4,1.79,4,4c0,2.21-1.79,4-4,4S8,8.21,8,6z M17,22h1c1.1,0,2-0.9,2-2l0-4.78 c0-1.12-0.61-2.15-1.61-2.66c-0.43-0.22-0.9-0.43-1.39-0.62L17,22z M12.34,17L15,11.33C14.07,11.12,13.07,11,12,11 c-2.53,0-4.71,0.7-6.39,1.56C4.61,13.07,4,14.1,4,15.22L4,22h2.34C6.12,21.55,6,21.04,6,20.5C6,18.57,7.57,17,9.5,17H12.34z M10,22 l1.41-3H9.5C8.67,19,8,19.67,8,20.5S8.67,22,9.5,22H10z' /></g></svg>",
            FooterLabel = "Since Last Month",
            PercentageChange = "1.07%",
            PercentageChangeColor = "text-danger",
            IconTrendClass = "down"
        },
        new()
        {
            Title = "Available Rooms",
            Value = "180",
            TextColorClass = "text-success",
            BgColorClass = "success",
            Svg = "<svg xmlns='http://www.w3.org/2000/svg' enable-background='new 0 0 24 24' height='24px' viewBox='0 0 24 24' width='24px' fill='#5f6368'><g><path d='M0,0h24v24H0V0z' fill='none' /></g><g><g><path d='M16.5,12h-9c-0.55,0-1,0.45-1,1v1h11v-1C17.5,12.45,17.05,12,16.5,12z' /><rect height='2' width='4' x='7.25' y='8.5' /><rect height='2' width='4' x='12.75' y='8.5' /><path d='M20,2H4C2.9,2,2,2.9,2,4v16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2z M19,17h-1.5v-1.5h-11V17H5v-3.83 c0-0.66,0.25-1.26,0.65-1.72V9c0-1.1,0.9-2,2-2H11c0.37,0,0.72,0.12,1,0.32C12.28,7.12,12.63,7,13,7h3.35c1.1,0,2,0.9,2,2v2.45 c0.4,0.46,0.65,1.06,0.65,1.72V17z' /></g></g></svg>",
            FooterLabel = "Total Rooms",
            PercentageChange = "250",
            PercentageChangeColor = "fw-medium",
        }
    };
    //Dashboard Cards end

    // Patient Records starts
    public class PatientRecord
    {
        public string? Id { get; set; }
        public string? Name { get; set; }
        public int Age { get; set; }
        public string? Gender { get; set; }
        public string? Department { get; set; }
        public string? DoctorName { get; set; }
        public string? DoctorImgSrc { get; set; }
        public string? Status { get; set; }
        public string? StatusBadgeClass { get; set; }
        public string? Date { get; set; }
        public string? Time { get; set; }
    }
    List<PatientRecord> PatientRecords = new()
    {
        new PatientRecord
        {
            Id = "SPK001",
            Name = "John Doe",
            Age = 45,
            Gender = "Male",
            Department = "General Checkup",
            DoctorName = "Dr. Smith",
            DoctorImgSrc = "../assets/images/faces/doctors/1.png",
            Status = "Completed",
            Date = "Feb 25, 2025",
            Time = "10:00 AM"
        },
        new PatientRecord
        {
            Id = "SPK002",
            Name = "Emma Johnson",
            Age = 30,
            Gender = "Female",
            Department = "Cardiology",
            DoctorName = "Dr. Wilson",
            DoctorImgSrc = "../assets/images/faces/doctors/2.png",
            Status = "Pending",
            Date = "Feb 26, 2025",
            Time = "11:30 AM"
        },
        new PatientRecord
        {
            Id = "SPK003",
            Name = "Michael Lee",
            Age = 50,
            Gender = "Male",
            Department = "Orthopedic",
            DoctorName = "Dr. Brown",
            DoctorImgSrc = "../assets/images/faces/doctors/5.png",
            Status = "Completed",
            Date = "Feb 24, 2025",
            Time = "01:00 PM"
        },
        new PatientRecord
        {
            Id = "SPK004",
            Name = "Olivia Davis",
            Age = 28,
            Gender = "Female",
            Department = "Dermatology",
            DoctorName = "Dr. Martinez",
            DoctorImgSrc = "../assets/images/faces/doctors/6.png",
            Status = "Ongoing",
            Date = "Feb 25, 2025",
            Time = "02:45 PM"
        },
        new PatientRecord
        {
            Id = "SPK005",
            Name = "Ethan White",
            Age = 40,
            Gender = "Male",
            Department = "Neurology",
            DoctorName = "Dr. Anderson",
            DoctorImgSrc = "../assets/images/faces/doctors/3.png",
            Status = "Completed",
            Date = "Feb 23, 2025",
            Time = "09:00 AM"
        },
        new PatientRecord
        {
            Id = "SPK006",
            Name = "Sophia Lewis",
            Age = 35,
            Gender = "Female",
            Department = "Gastroenterology",
            DoctorName = "Dr. Roberts",
            DoctorImgSrc = "../assets/images/faces/doctors/4.png",
            Status = "Pending",
            Date = "Feb 27, 2025",
            Time = "12:15 PM"
        }
    };
    void DeleteRecord(string id){
        var record = PatientRecords.FirstOrDefault(p => p.Id == id);
        if (record != null)
        {
            PatientRecords.Remove(record);
        }
    }
    // Patient Records end
    

    //Top Doctors
    class Doctor
    {
        public string? Name { get; set; }
        public string? Specialty { get; set; }
        public string? ImgSrc { get; set; }
        public double Rating { get; set; }
        public string? Experience { get; set; }
    }
    List<Doctor> topDoctors = new List<Doctor>
    {
        new Doctor { Name = "Dr. John Miller", Specialty = "Cardiologist", ImgSrc = "../assets/images/faces/doctors/1.png", Rating = 4.9, Experience = "12+ Years Exp" },
        new Doctor { Name = "Dr. Sarah Williams", Specialty = "Dermatologist", ImgSrc = "../assets/images/faces/doctors/4.png", Rating = 4.8, Experience = "10+ Years Exp" },
        new Doctor { Name = "Dr. Mark Thompson", Specialty = "Neurologist", ImgSrc = "../assets/images/faces/doctors/2.png", Rating = 4.7, Experience = "15+ Years Exp" },
        new Doctor { Name = "Dr. Emily Davis", Specialty = "Gynecologist", ImgSrc = "../assets/images/faces/doctors/5.png", Rating = 4.6, Experience = "9+ Years Exp" },
        new Doctor { Name = "Dr. James Clark", Specialty = "Orthopedic Surgeon", ImgSrc = "../assets/images/faces/doctors/3.png", Rating = 4.9, Experience = "14+ Years Exp" }
    };

    //Available Doctors
    class DoctorSchedule
    {
        public string? Name { get; set; }
        public string? Specialty { get; set; }
        public string? SpecialtyClass { get; set; }
        public string? Time { get; set; }
    }
    List<DoctorSchedule> schedules = new List<DoctorSchedule>
    {
        new DoctorSchedule { Name = "Dr. John Miller", Specialty = "Cardiology", SpecialtyClass = "text-primary", Time = "9:00 AM - 12:00 PM" },
        new DoctorSchedule { Name = "Dr. Sarah Williams", Specialty = "Dermatology", SpecialtyClass = "text-secondary", Time = "10:00 AM - 1:00 PM" },
        new DoctorSchedule { Name = "Dr. Mark Thompson", Specialty = "Neurology", SpecialtyClass = "text-warning", Time = "1:30 PM - 4:30 PM" },
        new DoctorSchedule { Name = "Dr. Emily Davis", Specialty = "Gynecology", SpecialtyClass = "text-success", Time = "9:30 AM - 12:30 PM" },
        new DoctorSchedule { Name = "Dr. James Clark", Specialty = "Orthopedics", SpecialtyClass = "text-info", Time = "10:00 AM - 1:00 PM" },
        new DoctorSchedule { Name = "Dr. Lisa Harris", Specialty = "Pediatrics", SpecialtyClass = "text-danger", Time = "8:00 AM - 11:00 AM" }
    };

    //Patients Reports
    public class PatientReport
    {
        public string? PatientName { get; set; }
        public string? ReportType { get; set; }
        public string? Status { get; set; }  // e.g. "Completed", "Pending", "In Progress"
        public string? StatusIcon { get; set; }  // e.g. "ti-circle-check-filled", "ti-clock-hour-3"
        public string? StatusColorClass { get; set; }  // e.g. "text-success", "text-primary"
        public string? StatusIconBgClass { get; set; }  // e.g. "bg-danger-transparent", "bg-info-transparent"
        public string? StatusIconClass { get; set; }  // e.g. "ti-droplet-filled"
        public DateTime Date { get; set; }
    }
    List<PatientReport> reports = new()
    {
        new PatientReport {
            PatientName = "John Doe",
            ReportType = "Blood Test",
            Status = "Completed",
            StatusIcon = "circle-check-filled",
            StatusColorClass = "success",
            StatusIconBgClass = "danger",
            StatusIconClass = "droplet-filled",
            Date = new DateTime(2025, 2, 25)
        },
        new PatientReport {
            PatientName = "Emma Johnson",
            ReportType = "MRI Scan",
            Status = "Pending",
            StatusIcon = "clock-hour-3",
            StatusColorClass = "primary",
            StatusIconBgClass = "info",
            StatusIconClass = "brain",
            Date = new DateTime(2025, 2, 26)
        },
        new PatientReport {
            PatientName = "Michael Smith",
            ReportType = "X-Ray",
            Status = "Completed",
            StatusIcon = "circle-check-filled",
            StatusColorClass = "success",
            StatusIconBgClass = "warning",
            StatusIconClass = "bone",
            Date = new DateTime(2025, 2, 24)
        },
        new PatientReport {
            PatientName = "Sophia Williams",
            ReportType = "ECG",
            Status = "In Progress",
            StatusIcon = "reload",
            StatusColorClass = "info",
            StatusIconBgClass = "success",
            StatusIconClass = "heartbeat",
            Date = new DateTime(2025, 2, 25)
        },
        new PatientReport {
            PatientName = "James Brown",
            ReportType = "CT Scan",
            Status = "Completed",
            StatusIcon = "circle-check-filled",
            StatusColorClass = "success",
            StatusIconBgClass = "primary",
            StatusIconClass = "report",
            Date = new DateTime(2025, 2, 23)
        }
    };

    //Today's Appointments
    public class Appointment
    {
        public string? Name { get; set; }
        public string? Gender { get; set; }
        public int Age { get; set; }
        public string? ImageUrl { get; set; }
        public string? Department { get; set; }
        public string? BadgeClass { get; set; }
        public string? Time { get; set; }
    }
    private List<Appointment> Appointments = new()
    {
        new Appointment { Name = "John Doe", Gender = "Male", Age = 32, ImageUrl = "../assets/images/faces/12.jpg", Department = "General Checkup", BadgeClass = "bg-primary-transparent", Time = "10:00 AM" },
        new Appointment { Name = "Sarah Smith", Gender = "Female", Age = 45, ImageUrl = "../assets/images/faces/5.jpg", Department = "Dermatology", BadgeClass = "bg-secondary-transparent", Time = "10:30 AM" },
        new Appointment { Name = "Mark Johnson", Gender = "Male", Age = 29, ImageUrl = "../assets/images/faces/11.jpg", Department = "Cardiology", BadgeClass = "bg-warning-transparent", Time = "11:00 AM" },
        new Appointment { Name = "Emily Clark", Gender = "Female", Age = 38, ImageUrl = "../assets/images/faces/5.jpg", Department = "Gynecology", BadgeClass = "bg-info-transparent", Time = "11:30 AM" },
        new Appointment { Name = "Lisa White", Gender = "Female", Age = 27, ImageUrl = "../assets/images/faces/7.jpg", Department = "Pediatrics", BadgeClass = "bg-success-transparent", Time = "12:30 PM" }
    };

    //Available Treatments
    public class Treatment
    {
        public string? Name { get; set; }
        public string? IconClass { get; set; }
        public string? ButtonClass { get; set; }
    }

    private List<Treatment> treatments = new()
    {
        new Treatment { Name = "Cardiology", IconClass = "ti ti-heartbeat", ButtonClass = "primary" },
        new Treatment { Name = "Pediatrics", IconClass = "ti ti-baby-carriage", ButtonClass = "secondary" },
        new Treatment { Name = "Orthopedic", IconClass = "ti ti-bone", ButtonClass = "success" },
        new Treatment { Name = "Neurology", IconClass = "ti ti-activity-heartbeat", ButtonClass = "orange" },
        new Treatment { Name = "Psychiatry", IconClass = "ti ti-brand-debian", ButtonClass = "info" },
        new Treatment { Name = "More", IconClass = "bi bi-three-dots", ButtonClass = "warning" }
    };
}



